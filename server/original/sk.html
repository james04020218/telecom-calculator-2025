<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SK κ²°ν•© ν• μΈ κ³„μ‚°κΈ°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; /* slate-50 */ }
        .input-group { margin-bottom: 1.5rem; }
        .input-label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #334155; /* slate-700 */ }
        .input-field, .select-field { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e1; /* slate-300 */ border-radius: 0.375rem; box-shadow: sm; transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; }
        .input-field:focus, .select-field:focus { border-color: #ef4444; /* red-500 */ outline: none; box-shadow: 0 0 0 0.2rem rgba(239, 68, 68, 0.25); } /* SK Red focus */
        .btn-primary { background-color: #ef4444; /* red-500 */ color: white; padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-weight: 600; transition: background-color 0.3s ease; }
        .btn-primary:hover { background-color: #dc2626; /* red-600 */ }
        .btn-secondary { background-color: #f97316; /* orange-500 */ color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; transition: background-color 0.3s ease; }
        .btn-secondary:hover { background-color: #ea580c; /* orange-600 */ }
        .section-title { font-size: 1.5rem; font-weight: 700; color: #c2410c; /* orange-700 */ margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #fb923c /* orange-400 */;}
        .result-card { background-color: white; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); margin-bottom: 1.5rem; }
        .result-label { color: #475569; /* slate-600 */ }
        .result-value { color: #1e293b; /* slate-800 */ font-weight: 600;}
        .total-value { color: #ef4444; /* red-500 */ font-size: 1.5rem; font-weight: 700;}
        .mobile-line-item { border: 1px solid #e2e8f0; /* slate-200 */ padding: 1rem; border-radius: 0.375rem; margin-bottom: 0.75rem; }
        .radio-label { margin-right: 1rem; margin-bottom: 0.5rem; display: inline-flex; align-items: center; cursor: pointer;}
        .radio-input { margin-right: 0.5rem; accent-color: #ef4444; /* red-500 */ }
        .info-box { background-color: #fff7ed; /* orange-50 */ border-left: 4px solid #f97316; /* orange-500 */ padding: 1rem; margin-top:0.5rem; margin-bottom:1rem; font-size: 0.875rem; color: #9a3412; /* orange-800 */}
        .info-box ul { padding-left: 1.25rem; list-style-type: disc; }
        .info-box ul ul { padding-left: 1rem; list-style-type: circle;}
        .toggle-switch { position: relative; display: inline-block; width: 40px; height: 20px; margin-left: 10px; vertical-align: middle;}
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px;}
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%;}
        input:checked + .slider { background-color: #ef4444; /* red-500 */ }
        input:checked + .slider:before { transform: translateX(20px); }
        .discount-details { background-color: #ffe4e6; border: 1px solid #ffb3b3; padding: 0.75rem; border-radius: 0.375rem; font-size:0.875rem; } /* Light red for SKT */
        .discount-details ul { padding-left: 1.25rem; }
        .discount-details ul ul { padding-left: 1rem; }
        .discount-details h4 { font-weight: 600; margin-top: 0.75rem; margin-bottom: 0.25rem; color: #be123c; } /* Darker red for subheadings */
        .discount-details strong { color: #dc2626; } /* SKT Red for emphasis */
        .summary-item { margin-bottom: 0.25rem; }
        .message-script-area { width: 100%; min-height: 150px; padding: 0.5rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-size: 0.875rem; white-space: pre-wrap; word-wrap: break-word; }
        .copy-button-container { text-align: right; margin-top: 0.5rem; }
        .copy-feedback { font-size: 0.75rem; color: green; margin-left: 0.5rem; }
        .cost-qualifier {font-size: 0.875rem; color: #475569; margin-left: 0.25rem;}
        .sensitive-info-link-section { background-color: #fffbeb; border: 1px solid #fde68a; padding: 1rem; margin-bottom: 1.5rem; border-radius: 0.375rem; font-size: 0.9rem;}
        .sensitive-info-link-section a { color: #d97706; text-decoration: underline; }
    </style>
</head>
<body class="text-slate-800">
    <header class="bg-red-600 text-white p-6 shadow-md">
        <div class="container mx-auto max-w-4xl">
            <h1 class="text-3xl font-bold text-center">SK κ²°ν•© ν• μΈ κ³„μ‚°κΈ°</h1>
            <p class="text-center text-red-200 mt-1">μ„ νƒν•μ‹  μ„λΉ„μ¤μ™€ ν• μΈ μ ν•μ— λ”°λ¥Έ μμƒ μ”κΈμ„ κ³„μ‚°ν•΄ λ³΄μ„Έμ”.</p>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl p-4 sm:p-6 lg:p-8">
        <section id="sensitiveInfoTop" class="sensitive-info-link-section">
            <p><strong>β οΈ λ―Όκ°μ •λ³΄:</strong> <a href="https://miso.kr/booking/forms/secure-details?querystring=κ³ κ°λ‹ μ „ν™”λ²νΈ" target="_blank">https://miso.kr/booking/forms/secure-details?querystring=κ³ κ°λ‹ μ „ν™”λ²νΈ</a></p>
            <p class="text-sm">γ„΄> μ„ λ§ν¬λ¥Ό κ³ κ°μ—κ² λ¬Έμλ΅ μ „μ†΅ν•΄μ£Όμ„Έμ”. (ν•λ‹¨ μ¤ν¬λ¦½νΈ λ³µμ‚¬ κΈ°λ¥ λλ” λ―Όκ°μ •λ³΄ μ „μ†΅ λ§ν¬ κ³ κ° λ°μ†΅μ© μ¤ν¬λ¦½νΈ μ΄μ©)</p>
            <p class="text-sm">μ°Έκ³  μ¤ν”„λ λ“μ‹νΈ: <a href="https://docs.google.com/spreadsheets/d/10d21RrhIPBiJr7RZIHnk0h1dB4GvTEcHCuXSyFYw1M4/edit?gid=0#gid=0" target="_blank" class="font-semibold">λ°”λ΅κ°€κΈ°</a></p>
        </section>

        <section id="inputSection" class="mb-8">
            <h2 class="section-title">1. μ„λΉ„μ¤ μ„ νƒ (3λ…„ μ•½μ • κΈ°μ¤€, VAT ν¬ν•¨)</h2>
            <p class="mb-6 text-sm text-slate-600">μ•„λ ν•­λ©λ“¤μ„ μ„ νƒν•κ±°λ‚ μ…λ ¥ν•΄μ£Όμ„Έμ”. λ¨λ“  μ”κΈμ€ SKλΈλ΅λ“λ°΄λ“/SKν…”λ μ½¤ ν‘μ¤€ 3λ…„ μ•½μ •, λ¶€κ°€μ„Έ ν¬ν•¨ κΈμ•΅μ„ κΈ°μ¤€μΌλ΅ ν•©λ‹λ‹¤.</p>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="input-group">
                    <label for="internetPlan" class="input-label">SKB μΈν„°λ„· μ”κΈμ </label>
                    <select id="internetPlan" class="select-field">
                        </select>
                    <p class="text-xs text-slate-500 mt-1">μ°Έκ³ : λ¨λ€ μ„λ€λ£ 3λ…„ μ•½μ • μ‹ λ©΄μ  κΈ°μ¤€. (κΈ°κ°€ν”„λ¦¬λ―Έμ—„μ€ μ™€μ΄νμ΄ κ³µμ κΈ° κΈ°λ³Έ ν¬ν•¨ κ°€μ •)</p>
                </div>
                
                <div class="input-group">
                    <label for="wifiRouterRental" class="input-label block mb-1">μ™€μ΄νμ΄ κ³µμ κΈ° μ„λ€ (μ„ νƒ)</label>
                    <div class="flex items-center">
                        <input type="checkbox" id="wifiRouterRental" class="radio-input h-5 w-5">
                        <label for="wifiRouterRental" class="ml-2 text-sm text-slate-700">μ›” 1,100μ›</label>
                    </div>
                </div>

                <div class="input-group">
                    <label for="tvPlan" class="input-label">B tv μ”κΈμ  (1λ²μ§Έ TV)</label>
                    <select id="tvPlan" class="select-field">
                         </select>
                </div>

                <div class="input-group">
                    <label for="tvStb" class="input-label">B tv μ…‹ν†±λ°•μ¤ (1λ²μ§Έ TV)</label>
                    <select id="tvStb" class="select-field">
                        </select>
                </div>

                <div class="input-group">
                    <label for="additionalTvPlan" class="input-label">μ¶”κ°€ TV μ„ νƒ (2λ²μ§Έ TV)</label>
                    <select id="additionalTvPlan" class="select-field">
                        </select>
                     <p class="text-xs text-slate-500 mt-1">μ°Έκ³ : μ¶”κ°€ TV μ”κΈμ€ μ„ νƒν• μ…‹ν†±λ°•μ¤κ°€ ν¬ν•¨λ κ°€κ²©μΌ μ μμµλ‹λ‹¤ (μƒν’λ… ν™•μΈ).</p>
                </div>
                
                <div class="input-group">
                    <label for="phonePlan" class="input-label">μ§‘μ „ν™” μ”κΈμ  (SKB μΈν„°λ„· κ²°ν•© μ‹)</label>
                    <select id="phonePlan" class="select-field">
                        </select>
                </div>
            </div>
            
            <div class="input-group mt-6 hidden" id="onGajokYearsGroup">
                <label for="onGajokYears" class="input-label">κ°€μ΅± μ΄ μ‚¬μ© μ—°μ (μ¨κ°€μ΅± ν• μΈμ©)</label>
                <select id="onGajokYears" class="select-field">
                    <option value="0_9">10λ…„ λ―Έλ§</option>
                    <option value="10_19">10λ…„ μ΄μƒ ~ 20λ…„ λ―Έλ§</option>
                    <option value="20_29">20λ…„ μ΄μƒ ~ 30λ…„ λ―Έλ§</option>
                    <option value="30_plus">30λ…„ μ΄μƒ</option>
                </select>
            </div>

            <div class="input-group mt-6">
                <label class="input-label">λ¨λ°”μΌ νμ„  μ •λ³΄ (μµλ€ 5νμ„ )</label>
                <div class="flex items-center mb-2">
                    <label for="mobileLinesCount" class="mr-2 text-sm text-slate-700">κ²°ν•©ν•  SKT λ¨λ°”μΌ νμ„  μ:</label>
                    <input type="number" id="mobileLinesCount" min="0" max="5" value="0" class="input-field w-20 text-center">
                </div>
                <div id="mobileLinesContainer" class="space-y-3"></div>
            </div>
             <div class="input-group mt-6">
                <label for="dongpanSalesCheck" class="input-label flex items-center cursor-pointer">
                    <input type="checkbox" id="dongpanSalesCheck" class="radio-input h-5 w-5 mr-2">
                    λ™ν νλ§¤κ°€ μ μ© (μ„ νƒ μ‹ μ¶”κ°€ μ‚¬μ€ν’ μ΅°κ±΄ λ° κ΄€λ ¨ μ•λ‚΄ λ³΄κΈ°)
                </label>
            </div>
            <div id="dongpanUsimPolicyDetailsContainer" class="mt-3 hidden discount-details">
                <h3 class="text-lg font-bold text-red-700 mb-2">SKT μΈν„°λ„·/μ μ‹¬ κ²°ν•© μƒν’ μ ‘μ λ°©λ²• (λ™νμ μ‹¬ μ°Έκ³ μλ£)</h3>
                <p class="text-xs mb-1"><strong>μ‹ μ²­μ„ URL:</strong> <a href="https://tgateplus.sktelecom.com/main/main.do?p=9d7d8b5b0b339b80214797b42ff596a914f9d2a8103175f5b4e3a208ea7e3cab" target="_blank" class="text-blue-600 hover:underline">Tκ²μ΄νΈν”λ¬μ¤ μ‹ μ²­ λ°”λ΅κ°€κΈ°</a></p>
                <p class="text-xs mb-3">μ‘μ„±μΌ: 2023λ…„ 10μ›” 27μΌ κΈ°μ¤€ (μµμ‹  μ •μ±…μ€ SKT κ³µμ‹ μ±„λ„μ„ ν†µν•΄ ν™•μΈν•μ‹κΈ° λ°”λλ‹λ‹¤)</p>

                <h4>κ²°ν•© μƒν’ κµ¬μ„± λ° κ°€λ¥ νμ„ :</h4>
                <ul>
                    <li>SKT μΈν„°λ„·κ³Ό μ μ‹¬μ„ κ²°ν•©ν•λ” μƒν’μ…λ‹λ‹¤.</li>
                    <li>κ°€μ΅± μ μ‹¬ κ²°ν•© μ‹, μ΄ 5νμ„ (μΈν„°λ„· 1νμ„  + μ μ‹¬ λ™λ° λ…μμ 1νμ„  + κ°€μ΅± μ μ‹¬ μµλ€ 4νμ„ )κΉμ§€ κ°€λ¥ν•©λ‹λ‹¤. <strong>β οΈ μΈ+μ μ‹¬λ™ν+κ°€μ΅±μ μ‹¬4νμ„  κΉμ§€ μ΄ 5νμ„ κΉμ§€ κ°€λ¥</strong></li>
                </ul>

                <h4>λ‹¨λ… μƒν’ νλ§¤ λ¶κ°€ μ •μ±…:</h4>
                <ul>
                    <li>μΈν„°λ„· λ‹¨λ…μΌλ΅λ” 33,000μ› μ”κΈμ  νλ§¤ λ° κ°€μ΅± μ μ‹¬ νλ§¤κ°€ λ¶κ°€ν•©λ‹λ‹¤. <strong>β οΈ μΈλ‹¨λ… > 33K νλ§¤ λ¶κ°€/κ°€μ΅± μ μ‹¬ νλ§¤ λ¶κ°€</strong></li>
                    <li>λ²λ“¤(κ²°ν•©) μƒν’μ κ²½μ°, λ¨λ“  μ”κΈμ μ™€ κ°€μ΅± μ μ‹¬ νλ§¤κ°€ κ°€λ¥ν•©λ‹λ‹¤. <strong>β οΈ λ²λ“¤> λ¨λ“  μ”κΈμ  + κ°€μ΅± μ μ‹¬ νλ§¤ κ°€λ¥</strong></li>
                </ul>

                <h4>μ ‘μ μ μ°¨:</h4>
                <ol class="list-decimal list-inside space-y-1">
                    <li>μ„ μ‹ μ²­μ„ λ§ν¬λ΅ μΈμ¦(PASS or μ‹ μ©μΉ΄λ“) ν›„ μ‹ μ²­μ„ μ‘μ„±.</li>
                    <li>λ°±λ©”κ°€ μ ‘μμ›Ή(speedonline.kr)μ SK(μΌλ°) β‡’ λ¨λ°”μΌ νƒ­μΌλ΅ μ ‘μ λ¶€νƒ λ“λ¦½λ‹λ‹¤.</li>
                    <li>μ›Ή νμ‹ :
                        <ul class="list-disc list-inside ml-4">
                            <li>ν•΄λ‹Ή κ³ κ° μΈν„°λ„· κ°ν†µμ΄ μ™„λ£λλ©΄: "[κ°ν†µ μ™„λ£ / μ μ‹¬ λ°μ†΅ μ”μ²­]"μΌλ΅ μ›Ή νμ‹  ν•„μ”.</li>
                            <li>β€» μ΄λ―Έ κ°ν†µλ κ³ κ° 30μΌ μ΄λ‚΄ μ μ‹¬λ™ν μ‹: "[κ°ν†µμ™„λ£ μΌμ, κ°ν†µλ²νΈ κΈ°μ¬ / μ μ‹¬ λ°μ†΅ μ”μ²­]"μΌλ΅ μ›Ή νμ‹  ν•„μ”.</li>
                            <li>κ³ κ°μ΄ μ μ‹¬ μλ Ήν•μ‹  ν›„ λ―Έμ†λ΅ κ°ν†µ μ”μ²­ μ‹: "[κ³ κ° μ μ‹¬ μλ Ή μ™„λ£ / κ°ν†µ μ§„ν–‰ μ”μ²­]" ν•„μ”.</li>
                        </ul>
                    </li>
                    <li>μ‚¬μ „ λ™μ λ¬Έμ μ²λ¦¬:
                        <ul class="list-disc list-inside ml-4">
                            <li>β€» κ°ν†µ μ”μ²­ν•λ©΄ [μ‚¬μ „λ™μλ¬Έμ:μ„μ•½κΈ ν™•μΈ λ° λ™μλ¬Έμ]κ°€ κ³ κ°μ—κ² λ°μ†΅λλ©°, ν•΄λ‹Ή λ¬Έμ μ²λ¦¬ ν›„ κ°ν†µ μ§„ν–‰ κ°€λ¥.</li>
                            <li>β€» λ™μ μ²λ¦¬ν•μ§€ μ•μ„ μ‹ λ¬Έμ λ°μ†΅ ν›„ 10λ¶„ μ „μ‚°μ—μ„ κ°•μ λ΅ λ™μμ²λ¦¬ ν›„ κ°ν†µμ§„ν–‰ κ°€λ¥.</li>
                        </ul>
                    </li>
                    <li>μλ Ήν• USIMμΌλ΅ κ°μ•„λΌμ°μ‹κ³  μ „μ› ONμ— μ„±κ³µν•μ‹λ©΄ μ„ νƒμ•½μ •κ³Ό μ λ¬΄μ„  κ²°ν•© μ§„ν–‰ ν•„μ.</li>
                    <li>β€» μ„ μ•½ λ° κ²°ν•© μ™„λ£μ‹ [κ°ν†µμ™„λ£]λ΅ μ²λ¦¬λ¨.</li>
                </ol>

                <h4>κ³ κ° μ•λ‚΄ μ‚¬ν•­:</h4>
                <ol class="list-decimal list-inside space-y-1">
                    <li>μ μ‹¬ κ°ν†µμ€ μμ°¨μ μΌλ΅ μ§„ν–‰λμ–΄ μµλ€ 1μ‹κ°„ κΉμ§€ μ†μ”λ  μ μμµλ‹λ‹¤.</li>
                    <li>μ‚¬μ „ λ™μ λ¬Έμ μ²λ¦¬κ°€ μ™„λ£λμ–΄μ•Ό λΉ λ¥Έ κ°ν†µ μ²λ¦¬κ°€ κ°€λ¥ν•©λ‹λ‹¤.</li>
                    <li>SK USIM μΌλ΅ κ°ν†µλκΈ° μ „κΉμ§€λ” κΈ°μ΅΄ USIMμ„ μ‚¬μ©ν•μ‹λ‹¤κ°€ κΈ°μ΅΄ USIMμ μ‹ νΈκ°€ λμ–΄μ§ κ²½μ° μλ Ήν•μ‹  USIMμΌλ΅ κ°μ•„ λΌμ›μ£Όμ„Έμ”.</li>
                    <li>κΈ°κΈ° μ¬μ‹λ™μ„ μ—¬λ¬λ² ν•΄μ£Όμ‹λ©΄ μ •μƒ κ°ν†µμ΄ μ™„λ£λ©λ‹λ‹¤.</li>
                </ol>

                <h4>μ£Όμ μ‚¬ν•­ (μμλ£ μ§€κΈ‰ κ΄€λ ¨):</h4>
                <ol class="list-decimal list-inside space-y-1">
                    <li>μ μ‹¬ λ‹ΉμΌ λ°μ†΅μ€ 15μ‹ 30λ¶„μ— λ§κ°λ©λ‹λ‹¤. μ΄ν›„ μ”μ²­κ±΄ μμ—…μΌ κΈ°μ¤€ μµμΌ μ§„ν–‰λ©λ‹λ‹¤.</li>
                    <li>μ μ‹¬ λΉ„μ© 7,700μ›μ΄ μ²« λ‹¬μ— μ²­κµ¬λ©λ‹λ‹¤.</li>
                    <li>μΈν„°λ„· / μ μ‹¬ μ¤‘ ν•λ‚λΌλ„ μ„¤λ¶ λ° κ°ν†µ λ¶κ°€μ‹ μμλ£ μ§€κΈ‰ λ¶κ°€ν•©λ‹λ‹¤.</li>
                    <li>μΈν„°λ„· κ°ν†µμ›” κΈ°μ¤€ μµμ›”λ§κΉμ§€ μ μ‹¬ κ°ν†µμ‹μ—λ§ μμλ£ μΈμ •λμ–΄ μ§€κΈ‰λ©λ‹λ‹¤.</li>
                    <li>μ„ νƒμ•½μ • μ μ© μ•λ  κ²½μ° μμλ£ μ§€κΈ‰ λ¶κ°€ν•©λ‹λ‹¤.</li>
                    <li>μΈν„°λ„· λ…μμμ™€ μ μ‹¬ λ…μμκ°€ μƒμ΄ν•  κ²½μ° μμλ£ μ§€κΈ‰ λ¶κ°€ν•©λ‹λ‹¤.</li>
                </ol>
                <p class="mt-2"><strong>κ²°λ΅ :</strong> SKT μΈν„°λ„·/μ μ‹¬ κ²°ν•© μƒν’μ€ κ°€μ΅± μ μ‹¬ κ²°ν•© μ‹ μµλ€ 5νμ„ κΉμ§€ κ°€λ¥ν•λ©°, λ‹¨λ… μƒν’ νλ§¤μ— μ μ•½μ΄ μμµλ‹λ‹¤. μ ‘μλ” μ¨λΌμΈ μ‹ μ²­μ„ μ‘μ„± λ° μ›Ή μ ‘μλ¥Ό ν†µν•΄ μ§„ν–‰λλ©°, κ³ κ°μ μ‚¬μ „ λ™μ λ¬Έμ μ²λ¦¬μ™€ μ μ‹¬ κµμ²΄ λ° κ°ν†µ κ³Όμ •μ΄ ν•„μμ μ…λ‹λ‹¤. νΉν, μμλ£ μ§€κΈ‰κ³Ό κ΄€λ ¨ν•μ—¬ μ μ‹¬ κ°ν†µ κΈ°κ°„, μ„ νƒμ•½μ • μ μ©, λ…μμ μΌμΉ μ—¬λ¶€ λ“± μ—¬λ¬ μ μμ‚¬ν•­μ΄ μμΌλ―€λ΅ ν•΄λ‹Ή λ‚΄μ©μ„ μ™μ§€ν•κ³  μ ‘μ λ° κ°ν†µμ„ μ§„ν–‰ν•΄μ•Ό ν•©λ‹λ‹¤.</p>
            </div>
        </section>

        <section id="discountTypeSection" class="mb-8">
            <h2 class="section-title">2. κ²°ν•© ν• μΈ μ ν• μ„ νƒ</h2>
            <div class="bg-white p-6 rounded-lg shadow">
                <p class="mb-4 text-sm text-slate-600">κ°€μ¥ μ λ¦¬ν• ν• μΈ μ ν•μ„ μ„ νƒν•κ±°λ‚, κ° μ ν•λ³„ μμƒ μ”κΈμ„ λΉ„κµν•΄λ³΄μ„Έμ”.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-2">
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="yozoomGajok" class="radio-input" checked> μ”μ¦ κ°€μ΅± κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="yozoomGajokDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="onGajok" class="radio-input"> μ¨κ°€μ΅± ν• μΈ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="onGajokDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="familySkt" class="radio-input"> ν¨λ°€λ¦¬ κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="familySktDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="mvnoSkt" class="radio-input"> μ•λ°ν• κ²°ν•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="mvnoSktDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(μƒμ„Έλ³΄κΈ°)</span>
                    </div>
                </div>
                <div class="input-group mt-6">
                    <label class="input-label">κ²°ν•© μ μ© μ‹μ  (μ›” μ²­κµ¬μ”κΈ ν‘μ‹ λ°©μ‹)</label>
                    <div class="space-y-2">
                        <label class="radio-label">
                            <input type="radio" name="bundleApplicationTime" value="pre" class="radio-input" checked>
                            μ„ κ²°ν•© (μ›” μ²­κµ¬μ•΅μ— ν• μΈ μ¦‰μ‹ λ°μ)
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="bundleApplicationTime" value="post" class="radio-input">
                            ν›„κ²°ν•© (μ›” μ²­κµ¬μ•΅μ— ν• μΈ λ―Έλ°μ, μ¶”ν›„ μ μ©)
                        </label>
                    </div>
                    <p class="text-xs text-slate-500 mt-1">ν›„κ²°ν•© μ„ νƒ μ‹, μµμΆ… μ›” λ‚©λ¶€μ•΅μ€ ν• μΈ μ „ κΈμ•΅μΌλ΅ ν‘μ‹λλ©°, μ‹¤μ  μ μ©λ  ν• μΈμ•΅μ€ λ³„λ„λ΅ μ•λ‚΄λ©λ‹λ‹¤.</p>
                </div>


                <div id="yozoomGajokDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μΈν„°λ„·+ν΄λ€ν° μ”μ¦ κ°€μ΅± κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μ΄ μΈν„°λ„· ν• μΈ (μμƒ): <span id="detailYgInternetDiscount" class="font-bold">0</span>μ› <span id="detailYgInternetType" class="text-xs"></span></p>
                    <p>ν΄λ€ν° μ΄ ν• μΈ (μ°Έκ³ μ©): <span id="detailYgMobileDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-red-300">
                    <div class="text-xs mt-2 mb-1 text-red-700 font-semibold skt-summary-details">
                        <p class="font-bold">μ£Όμ” νΉμ§•:</p>
                        <ul>
                            <li>μΈν„°λ„· λ…μμ λ³ΈμΈ λ¨λ°”μΌ 1νμ„  ν•„μ ν¬ν•¨, μµλ€ 5λ€ κ°€μ΅± λ¨λ°”μΌ κ²°ν•©.</li>
                            <li>λ…μ λ‹¤λ¥Έ κ°€μ΅± λ¨λ°”μΌ κ²°ν•© μ‹, μµλ€ 2νμ„  μΈν„°λ„· ν• μΈ μ μ© κ°€λ¥.</li>
                        </ul>
                        <p class="font-bold mt-2">μ„ κ²°ν•© μ΅°κ±΄:</p>
                        <ul><li>μΈν„°λ„· λ…μμ + λ™μΌ λ…μ SKT ν΄λ€ν° 1λ€ ν•„μ.</li></ul>
                        <p class="font-bold mt-2">μµλ€ κ²°ν•© κ°€λ¥ νμ„ :</p>
                        <ul><li>μΈν„°λ„· μµλ€ 2νμ„  + λ¨λ°”μΌ 5νμ„  (κ°κ° λ…μμ λ° μ¥μ† λ‹¤λ¥΄κ² κ°€λ¥).</li></ul>
                        <p class="font-bold mt-2">μΈν„°λ„· ν• μΈ (TV κ²°ν•© μ—¬λ¶€μ— λ”°λΌ μ°¨λ“±, 500M+TV μ‹ κΈ°λ³Έ 5,500μ› ν• μΈμ— μ¶”κ°€):</p>
                        <ul id="yozoomGajokInternetDiscountTiers"></ul>
                        <p class="font-bold mt-2">ν΄λ€ν° ν• μΈ (μΈν„°λ„· μ†λ„ λ° νμ„  μ κΈ°λ°, μ°Έκ³ μ©):</p>
                        <ul id="yozoomGajokMobileDiscountTiers"></ul>
                        <p class="font-bold mt-2">λ™κ±°μΈ κ²°ν•© κ°€λ¥:</p>
                        <ul><li>κ²°ν•© λ€ν‘μ κΈ°μ¤€ μ£Όλ―Όλ“±λ΅μƒ λ™μΌ μ£Όμ† λ™κ±°μΈ 1μΈ κ°€μ΅± ν• μΈ λ€μƒ μΈμ • (μλΉ„λ¶€λ¶€, λ™κ±°λ¶€λ¶€, μΉκµ¬ λ“± λ“±λ³Έμƒ λ™κ±°μΈ).</li></ul>
                        <p class="mt-2 text-red-500 font-bold">μ°Έκ³ : λ¨λ°”μΌ ν• μΈμ•΅μ€ μ„ νƒμ•½μ • λ“± νƒ€ ν• μΈκ³Ό μ¤‘λ³µ μ—¬λ¶€ SKT ν™•μΈ ν•„μ”.</p>
                    </div>
                </div>
                <div id="onGajokDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μ¨κ°€μ΅± ν• μΈ μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μ΄ μΈν„°λ„· ν• μΈ (μμƒ, 500M+TV μ‹ κΈ°λ³Έ 5,500 ν• μΈ ν›„ μ¶”κ°€ % μ μ©): <span id="detailOgInternetDiscount" class="font-bold">0</span>μ›</p>
                    <p>ν΄λ€ν° ν• μΈ (μ›”μ •μ•΅ κΈ°μ¤€, μ°Έκ³ μ©): <span id="detailOgMobileDiscount" class="font-bold">0</span>%</p>
                    <hr class="my-2 border-red-300">
                    <div class="text-xs mt-2 mb-1 text-red-700 font-semibold skt-summary-details">
                        <p class="font-bold">μ£Όμ” νΉμ§•:</p>
                        <ul>
                            <li>κ°€μ΅± κµ¬μ„±μ›μ SKT μ΄ κ°€μ… μ—°μμ— λ”°λΌ ν• μΈμ¨ μ°¨λ“± μ μ©.</li>
                            <li>κµ¬κ°„: 10λ…„ λ―Έλ§, 10λ…„ μ΄μƒ, 20λ…„ μ΄μƒ, 30λ…„ μ΄μƒ.</li>
                        </ul>
                        <p class="font-bold mt-2">μµλ€ κ²°ν•© κ°€λ¥ νμ„ :</p>
                        <ul><li>λ¨λ°”μΌ μµλ€ 5νμ„  + μΈν„°λ„· 2νμ„ .</li></ul>
                        <p class="font-bold mt-2">νμ„  μ¶”κ°€ μ΅°κ±΄:</p>
                        <ul><li>μ¶”κ°€ νμ„  λ…μμ ν΄λ€ν°μ€ SKT νμ„ μ΄μ–΄μ•Ό ν•¨.</li></ul>
                         <p class="font-bold mt-2">μΈν„°λ„· ν• μΈ:</p>
                        <ul><li>κ°€μ… μ—°μμ— λ”°λΌ (μΈν„°λ„· κΈ°λ³Έλ£ - (500M+TV μ‹ 5,500μ› μ„ ν• μΈ)) κΈμ•΅μ 10% ~ 50% μ¶”κ°€ ν• μΈ.</li></ul>
                        <p class="font-bold mt-2">ν΄λ€ν° ν• μΈ:</p>
                        <ul>
                            <li>μ΄ κ°€μ… μ—°μ 20λ…„ μ΄μƒ μ‹: λ€ν‘ λ¨λ°”μΌ νμ„  μ›”μ •μ•΅μ 10% ν• μΈ.</li>
                            <li>μ΄ κ°€μ… μ—°μ 30λ…„ μ΄μƒ μ‹: λ€ν‘ λ¨λ°”μΌ νμ„  μ›”μ •μ•΅μ 30% ν• μΈ.</li>
                            <li>(μ„ νƒμ•½μ •ν• μΈκ³Ό μ¤‘λ³µ κ°€λ¥)</li>
                        </ul>
                        <p class="font-bold mt-2">λ™κ±°μΈ κ²°ν•© κ°€λ¥:</p>
                        <ul><li>κ²°ν•© λ€ν‘μ κΈ°μ¤€ μ£Όλ―Όλ“±λ΅μƒ λ™μΌ μ£Όμ† λ™κ±°μΈ 1μΈ κ°€μ΅± ν• μΈ λ€μƒ μΈμ •.</li></ul>
                    </div>
                </div>
                <div id="familySktDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μΈν„°λ„·+μΈν„°λ„· ν¨λ°€λ¦¬ μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μνμ„  μ΄ μΈν„°λ„· ν• μΈ (μμƒ, 500M+TV μ‹ κΈ°λ³Έ 5,500 ν• μΈ ν›„ μ¶”κ°€ μ μ©): <span id="detailFsInternetDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-red-300">
                     <div class="text-xs mt-2 mb-1 text-red-700 font-semibold skt-summary-details">
                        <p class="font-bold">μ£Όμ” νΉμ§•:</p>
                        <ul>
                            <li>λ³ΈμΈ λλ” μ§κ³„κ°€μ΅±μ SKT/SKB μΈν„°λ„·(λ¨νμ„ )μ΄ λ‹¤λ¥Έ μ¥μ†μ— μμ„ κ²½μ°, μ‹ κ· μ¶”κ°€ μΈν„°λ„·(μνμ„ ) ν• μΈ.</li>
                            <li>SKTλ” SKTλΌλ¦¬, SKBλ” SKBλΌλ¦¬ κ²°ν•©.</li>
                        </ul>
                        <p class="font-bold mt-2">μ΅°κ±΄:</p>
                        <ul><li>λ³ΈμΈ λλ” μ§κ³„κ°€μ΅± λ…μλ΅ λ‹¤λ¥Έ μ¥μ†μ— SK μΈν„°λ„· νμ„ μ΄ μμ–΄μ•Ό ν•¨.</li></ul>
                        <p class="font-bold mt-2">νμ„  κµ¬μ„±:</p>
                        <ul><li>λ¨νμ„  1νμ„  + μνμ„  1νμ„ .</li></ul>
                        <p class="font-bold mt-2">ν• μΈμ•΅ (μνμ„  κΈ°μ¤€, JSON λ°μ΄ν„° μ§μ ‘ λ°μ):</p>
                        <ul>
                            <li>100M (λ‹¨λ…) μ‹ ν¨λ°€λ¦¬ ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>500M μ΄μƒ (λ‹¨λ…) μ‹ ν¨λ°€λ¦¬ ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>100M (+TV) μ‹ ν¨λ°€λ¦¬ ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>500M μ΄μƒ (+TV) μ‹ ν¨λ°€λ¦¬ ν• μΈ: JSON μ°Έμ΅° (5500μ› κΈ°λ³Έ ν• μΈ ν›„ μ¶”κ°€)</li>
                            <li>(κΈ°μ΅΄ ν…μ¤νΈ: λ‹¨λ… 100M μνμ„ : 5,500μ› ν• μΈ, λ‹¨λ… 500M+ μνμ„ : 11,000μ› ν• μΈ. λ²λ“¤ μ‹: 100M 4,400μ›, 500M 5,500μ› - SKB μ •μ±… ν™•μΈ ν•„μ”)</li>
                        </ul>
                        <p class="font-bold mt-2">μ μμ‚¬ν•­:</p>
                        <ul>
                            <li>λ¨νμ„  1λ…„ μ μ§€ ν•„μ, λ―Έμ μ§€ μ‹ ν• μΈμ•΅ λ°ν™.</li>
                            <li>10κ°μ›” μ΄λ‚΄ ν•΄μ§€ μ‹ μ‚¬μ€ν’ ν™μ κ°€λ¥.</li>
                        </ul>
                        <p class="font-bold mt-2">κ²°ν•© λ°©λ²•:</p>
                        <ul>
                            <li>SKT: λ³ΈμΈ μ‹ λ¶„μ¦, λ¨νμ„  κ°€μ΅±κ΄€κ³„μ¦λ…μ„, λ¨νμ„  μ •λ³΄λ΅ μ„ κ²°ν•© κ°€λ¥.</li>
                            <li>SKB λ³ΈμΈ ν¨λ°€λ¦¬: SKTμ™€ λ™μΌ, μ„ κ²°ν•© κ°€λ¥.</li>
                            <li>SKB νƒ€μΈ ν¨λ°€λ¦¬: λ³Έμ‚¬λ¥Ό ν†µν• ν›„κ²°ν•©λ§ κ°€λ¥.</li>
                        </ul>
                    </div>
                </div>
                <div id="mvnoSktDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">μ•λ°ν• κ²°ν•© μƒμ„Έ (μƒλ‹΄μ› μ°Έκ³ μ©):</p>
                    <p>μΈν„°λ„· ν• μΈ (μμƒ, 500M+TV μ‹ κΈ°λ³Έ 5,500 ν• μΈ ν›„ μ¶”κ°€ μ μ©): <span id="detailMsInternetDiscount" class="font-bold">0</span>μ›</p>
                    <hr class="my-2 border-red-300">
                    <div class="text-xs mt-2 mb-1 text-red-700 font-semibold skt-summary-details">
                        <p class="font-bold">μ£Όμ” νΉμ§•:</p>
                        <ul><li>SKB μΈν„°λ„· + λ³ΈμΈ λ…μ μ•λ°ν° 1:1 κ²°ν•© (SKBλ§ κ°€λ¥).</li></ul>
                        <p class="font-bold mt-2">λ€μƒ:</p>
                        <ul><li>30μΌ μ΄λ‚΄ SKB μ‹ κ· κ°€μ… κ³ κ° λλ” SKB μ•½μ • μΆ…λ£ κ³ κ°.</li></ul>
                        <p class="font-bold mt-2">ν• μΈμ•΅ (μΈν„°λ„· μ†λ„λ³„, JSON λ°μ΄ν„° μ§μ ‘ λ°μ):</p>
                         <ul>
                            <li>100M (λ‹¨λ…) μ‹ μ•λ°ν• ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>500M μ΄μƒ (λ‹¨λ…) μ‹ μ•λ°ν• ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>100M (+TV) μ‹ μ•λ°ν• ν• μΈ: JSON μ°Έμ΅°</li>
                            <li>500M μ΄μƒ (+TV) μ‹ μ•λ°ν• ν• μΈ: JSON μ°Έμ΅° (5500μ› κΈ°λ³Έ ν• μΈ ν›„ μ¶”κ°€)</li>
                        </ul>
                        <p class="font-bold mt-2">κ²°ν•© λ¶κ°€:</p>
                        <ul>
                            <li>SKT λ° λ²•μΈ νμ„ .</li>
                            <li>μ„ λ¶ν°, IOT μ”κΈμ , λ°μ΄ν„° μ‰μ–΄λ§, νƒλΈ”λ¦Ώ λ“± λ―Έν‘μ μ”κΈμ .</li>
                            <li>μ•λ°ν° ν†µμ‹ μ‚¬ λ³€κ²½ μ‹ μ¬κ²°ν•© λ¶κ°€.</li>
                        </ul>
                        <p class="font-bold mt-2">κ²°ν•© κ°€λ¥ μ•λ°ν° μ‚¬μ—…μ (μμ‹):</p>
                        <ul><li>KB κµ­λ―Όμ€ν–‰(λ¦¬λΈμ— λ¨λ°”μΌ), ν°μ‚¬λμ»¤λ„¥νΈ(μ΄μ•ΌκΈ°λ¨λ°”μΌ), μ λ‹μ»΄μ¦(λ¨λΉ™), ν† μ¤, μ•„μ΄μ¦λΉ„μ „, SKν…”λ§ν¬(μ„ΈλΈλ¨λ°”μΌ), ν‹°ν”λ¬μ¤(KTC), μ¤λ§ν…” λ“± (μ „μ²΄ λ©λ΅ SKB ν™•μΈ).</li></ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="installationSection" class="mb-8">
            <h2 class="section-title">3. μ„¤μΉ μµμ…</h2>
            <div class="input-group bg-white p-6 rounded-lg shadow">
                <label class="input-label">μ„¤μΉ ν¬λ§ μ‹μ  (μ„¤μΉλΉ„ λ³€λ™ κ°€λ¥)</label>
                <div class="space-y-2">
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekday" class="radio-input" checked> ν‰μΌ μ£Όκ°„</label>
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekend" class="radio-input"> μ£Όλ§/μ•Όκ°„ (ν• μ¦ μ μ© κ°€λ¥μ„±)</label>
                </div>
            </div>
        </section>

        <div class="text-center mb-8">
            <button id="calculateButton" class="btn-primary text-lg">μμƒ μ”κΈ κ³„μ‚°ν•κΈ°</button>
        </div>

        <section id="resultSection" class="hidden">
            <h2 class="section-title">π“ κ³„μ‚° κ²°κ³Ό</h2>
            
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">μ”κΈ μ”μ•½ (VAT ν¬ν•¨)</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <p class="result-label summary-item">μ„ νƒ μΈν„°λ„·: <span id="selectedInternet" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ TV (1λ²μ§Έ): <span id="selectedTv" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ…‹ν†±λ°•μ¤ (1λ²μ§Έ TV): <span id="selectedStb" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ¶”κ°€ TV (2λ²μ§Έ): <span id="selectedAdditionalTv" class="result-value"></span></p>
                        <p class="result-label summary-item">μ„ νƒ μ§‘μ „ν™”: <span id="selectedPhone" class="result-value"></span></p>
                        <p class="result-label summary-item">λ¨λ°”μΌ νμ„  μ: <span id="selectedMobileCount" class="result-value"></span></p>
                        <p class="result-label summary-item">μ μ© ν• μΈ μ ν•: <span id="selectedDiscountType" class="result-value"></span></p>
                         <div id="onGajokYearsResultContainer" class="hidden result-label summary-item">
                            μ¨κ°€μ΅± μ΄ μ‚¬μ© μ—°μ: <span id="selectedOnGajokYears" class="result-value"></span>
                        </div>
                    </div>
                    <div>
                        <p class="result-label summary-item">μ›” μΈν„°λ„· κΈ°λ³Έλ£: <span id="totalBaseInternetCost" class="result-value">0</span> μ›</p>
                        <p class="result-label text-green-600 summary-item">μ›” μ΄ μΈν„°λ„· κ²°ν•© ν• μΈμ•΅ (μμƒ): <span id="totalInternetDiscountAmount" class="result-value text-green-600">0</span> μ›</p>
                        <p class="text-xs text-slate-500 ml-2 mb-1" id="internetDiscountBreakdown"></p>
                        <p class="result-label summary-item">μ›” λ¨λ€ μ„λ€λ£: <span id="internetModemRental" class="result-value">0</span> μ›</p>
                        <p class="result-label summary-item">μ›” μ™€μ΄νμ΄ κ³µμ κΈ° μ„λ€λ£: <span id="wifiRouterRentalCostDisplay" class="result-value">0</span> μ›</p>
                        
                        <div id="tvCostSummaryContainer" class="hidden"> 
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” TV κΈ°λ³Έλ£ (1λ²μ§Έ): <span id="tvBaseCostDisplay" class="result-value">0</span> μ›</p>
                            <p class="result-label text-green-600 summary-item">μ›” TV κ²°ν•© ν• μΈμ•΅ (1λ²μ§Έ): <span id="tvDiscountDisplay" class="result-value text-green-600">0</span> μ›</p>
                            <p class="result-label summary-item">μ›” TV μ…‹ν†±λ°•μ¤ μ„λ€λ£ (1λ²μ§Έ): <span id="stbRentalCostDisplay" class="result-value">0</span> μ›</p>
                        </div>
                         <div id="additionalTvCostSummaryContainer" class="hidden">
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” μ¶”κ°€ TV μ”κΈ (2λ²μ§Έ): <span id="additionalTvCostDisplay" class="result-value">0</span> μ›</p>
                        </div>
                        <div id="phoneCostSummaryContainer" class="hidden">
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">μ›” μ§‘μ „ν™” κΈ°λ³Έλ£: <span id="phoneBaseCostDisplay" class="result-value">0</span> μ›</p>
                            <p class="result-label text-green-600 summary-item">μ›” μ§‘μ „ν™” κ²°ν•© ν• μΈμ•΅: <span id="phoneDiscountDisplay" class="result-value text-green-600">0</span> μ›</p>
                        </div>
                        <hr class="my-1 border-red-300">
                        <p class="mt-2 text-lg font-semibold">
                            <span id="finalCostLabelText">μµμΆ… μμƒ μ›” λ‚©λ¶€μ•΅</span><span id="finalCostLabelQualifier" class="cost-qualifier"></span>: <span id="finalMonthlyCost" class="total-value">0</span> μ›
                        </p>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">π μ‚¬μ€ν’ ννƒ (μμƒ)</h3>
                <p class="result-label summary-item">κΈ°λ³Έ μΈν„°λ„· μ‚¬μ€ν’ (μμƒ): <span id="giftBaseInternet" class="result-value">0</span> μ›</p>
                <p class="result-label summary-item hidden" id="additionalDongpanCashContainer">λ™ν μ¶”κ°€ ν„κΈ μ‚¬μ€ν’ (λ¨λ°”μΌ νμ„ λ³„ ν•©μ‚°): <span id="giftAdditionalDongpanCash" class="result-value">0</span> μ›</p>
                <hr class="my-1">
                <p class="result-label summary-item font-semibold">μ΄ μ‚¬μ€ν’ κ°€μΉ (μμƒ): <span id="giftTotal" class="result-value text-green-600">0</span> μ›</p>
                <p class="text-xs text-red-500 mt-2">* μ„ μ‚¬μ€ν’ μ •λ³΄λ” μ κ³µλ μ •λ³΄λ¥Ό κΈ°μ¤€μΌλ΅ ν•λ©°, μ‹¤μ  SKT/SKB μ •μ±… λ° μ‹μ μ— λ”°λΌ λ³€λ™λ  μ μμΌλ‹ κ°€μ… μ‹μ μ— λ°λ“μ‹ μ¬ν™•μΈ λ°”λλ‹λ‹¤.</p>
                <p class="text-xs text-red-500 mt-1" id="giftEligibilityNote"></p>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">μ΄κΈ° μ„¤μΉ λΉ„μ©</h3>
                <p class="result-label">μμƒ μ΄ μ„¤μΉλΉ„: <span id="installationCostResult" class="result-value text-lg">0</span> μ›</p>
                <p class="text-xs text-slate-500 mt-1">* μ„ νƒν•μ‹  μ„¤μΉ μ‹μ (ν‰μΌ/μ£Όλ§) λ° μ„λΉ„μ¤ μ΅°ν•©μ— λ”°λΌ κ³„μ‚°λ©λ‹λ‹¤. (ν”„λ΅λ¨μ…μ— λ”°λΌ λ©΄μ  κ°€λ¥)</p>
            </div>
            
             <div class="result-card mt-6">
                <h3 class="text-xl font-semibold text-orange-600 mb-2">μ¶”κ°€ μ•λ‚΄μ‚¬ν•­</h3>
                <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                    <li>λ³Έ κ³„μ‚°κΈ°λ” SKT/SKB κ³µμ‹ ν™νμ΄μ§€ μ •λ³΄ λ° μμ‚¬ μµμ‹  κ²°ν•© ν• μΈ μ •μ±…μ„ λ°μν•μ—¬ μ •ν™•ν• μμƒ μ”κΈμ„ μ κ³µν•©λ‹λ‹¤.</li>
                    <li>**"μΈν„°λ„·+μΈν„°λ„· ν¨λ°€λ¦¬"** κ²°ν•© μ‹, λ³Έ κ³„μ‚°κΈ°λ” μνμ„ μ΄ 'λ‹¨λ…'μΌλ΅ μ‚¬μ©λ  κ²½μ°μ ν• μΈμ•΅μ„ κΈ°μ¤€μΌλ΅ ν•λ©°, JSON λ°μ΄ν„°μ— λ…μ‹λ ν• μΈμ•΅μ„ μ μ©ν•©λ‹λ‹¤. ν•΄λ‹Ή μνμ„ μ— TV/μ „ν™” λ“±μ΄ μ¶”κ°€ κ²°ν•©λ  κ²½μ° ν• μΈμ•΅μ΄ λ³€λ™λ  μ μμΌλ‹ SKBλ¥Ό ν†µν•΄ ν™•μΈ λ°”λλ‹λ‹¤.</li>
                    <li>500Mbps μ΄μƒ μΈν„°λ„·κ³Ό TV κ²°ν•© μ‹, μΈν„°λ„· μ”κΈμ— κΈ°λ³Έ 5,500μ› ν• μΈμ΄ μ°μ„  μ μ©λ ν›„, μ„ νƒν•μ‹  μ£Όμ” κ²°ν•©(μ”μ¦κ°€μ΅±, μ¨κ°€μ΅± λ“±)μ μ΅°κ±΄μ— λ”°λΌ JSON λ°μ΄ν„°μ `bundleInternetDiscounts`μ— λ…μ‹λ μ¶”κ°€ ν• μΈμ΄ λ”ν•΄μ§€κ±°λ‚ ν•΄λ‹Ή κ²°ν•©μ μμ²΄ ν• μΈμ¨(μ¨κ°€μ΅±)μ΄ μ μ©λμ–΄ μµμΆ… μΈν„°λ„· ν• μΈμ•΅μ΄ κ²°μ •λ©λ‹λ‹¤.</li>
                    <li>ν†µμ‹ μ‚¬ μ”κΈ, μ‚¬μ€ν’ λ° μ΅°κ±΄μ€ ν”„λ΅λ¨μ… λλ” μ •μ±… λ³€κ²½μΌλ΅ μμ‹ λ³€λ™λ  μ μμΌλ―€λ΅, κ°€μ… μ‹μ μ μµμΆ… μ΅°κ±΄μ€ λ°λ“μ‹ ν™•μΈν•΄μ£Όμ‹κΈ° λ°”λλ‹λ‹¤.</li>
                    <li>μ•½μ • κΈ°κ°„ λ‚΄ ν•΄μ§€ μ‹ μ„μ•½κΈμ΄ λ°μƒν•  μ μμµλ‹λ‹¤.</li>
                    <li>μ„Έλ¶€μ μΈ κ°€μ… μ΅°κ±΄ λ° μµμ‹  ν”„λ΅λ¨μ…μ€ SKT/SKB κ³µμ‹ μ±„λ„ λλ” μƒλ‹΄μ‚¬λ¥Ό ν†µν•΄ μµμΆ… ν™•μΈν•μ‹λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.</li>
                    <li>**"μ”μ¦ κ°€μ΅± κ²°ν•©"μ λ¨λ°”μΌ ν• μΈκ³Ό μ„ νƒμ•½μ •ν• μΈ(25%) μ¤‘λ³µ κ°€λ¥ μ—¬λ¶€**λ” SKT μ •μ±…μ— λ”°λΌ λ‹¬λΌμ§ μ μμΌλ©°, λ³Έ κ³„μ‚°κΈ°μ—λ” ν•΄λ‹Ή μ¤‘λ³µ κ°€λ¥ μ—¬λ¶€κ°€ λ…μ‹μ μΌλ΅ λ°μλμ§€ μ•μ•μ„ μ μμΌλ‹, κ°€μ… μ‹ λ°λ“μ‹ ν™•μΈν•μ‹κΈ° λ°”λλ‹λ‹¤.</li>
                </ul>
            </div>
        </section>
        
        <section id="messageScriptSection" class="hidden mt-12">
            <h2 class="section-title">π“„ κ³ κ° μ•λ‚΄ λ¬Έμ μ¤ν¬λ¦½νΈ (μƒλ‹΄μ› μ°Έκ³ μ©)</h2>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">1. μ „μ‚° λ©”λ¨</h3>
                <textarea id="memoScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('memoScript', 'copyFeedbackMemo')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackMemo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">2. μƒν’ μ•λ‚΄ λ¬Έμ</h3>
                <textarea id="infoScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('infoScript', 'copyFeedbackInfo')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackInfo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">3. κ°€μ… μ™„λ£ λ¬Έμ</h3>
                <textarea id="completeScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('completeScript', 'copyFeedbackComplete')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackComplete" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">4. μ μ‹¬ μ ‘μ μ™„λ£ μ•λ‚΄ (κ³ κ°μ©)</h3>
                <textarea id="usimDongpanCompleteScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('usimDongpanCompleteScript', 'copyFeedbackUsimComplete')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackUsimComplete" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">5. λ°±λ©”κ°€ κΈ°νƒ€ λ©”λ¨ (λ™νμ μ‹¬μ©)</h3>
                <textarea id="baekmegaEtcMemoScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('baekmegaEtcMemoScript', 'copyFeedbackBaekmegaEtc')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackBaekmegaEtc" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-orange-600 mb-3">6. λ―Όκ°μ •λ³΄ μ „μ†΅ λ§ν¬ (κ³ κ° λ°μ†΅μ©)</h3>
                <textarea id="sensitiveInfoLinkScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('sensitiveInfoLinkScript', 'copyFeedbackSensitiveLink')" class="btn-secondary text-xs">λ³µμ‚¬ν•κΈ°</button>
                    <span id="copyFeedbackSensitiveLink" class="copy-feedback"></span>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center p-6 mt-12 bg-red-700 text-red-100 text-sm">
        <p>λ³Έ κ³„μ‚°κΈ°λ” SKB/SKT λ―Έμ†μ—μ„ μ κ³µν•©λ‹λ‹¤.</p>
        <p>&copy; 2024 SK κ²°ν•© ν• μΈ κ³„μ‚°κΈ°. λ¨λ“  μ •λ³΄λ” κ³µμ‹ μλ£ κΈ°λ°μ΄λ©°, μµμΆ… μ΅°κ±΄μ€ κ°€μ… μ‹ ν™•μΈ λ°”λλ‹λ‹¤.</p>
    </footer>

    <script>
        // --- Global Data Store from JSON ---
        let SK_DATA = {};

        // Default values if JSON fetch fails or for initial structure
        const defaultSkData = {
            "internetPlans_base": [
                { "id": "internet_100m_standalone", "name": "100M μΈν„°λ„· (λ‹¨λ…)", "price": 22000, "speed_mbps": 100, "type": "100M", "note": "λ‹¨λ… κΈ°λ³Έλ£" },
                { "id": "internet_500m_standalone", "name": "500M μΈν„°λ„· (λ‹¨λ…)", "price": 33000, "speed_mbps": 500, "type": "500M", "note": "λ‹¨λ… κΈ°λ³Έλ£" },
                { "id": "internet_1g_standalone", "name": "1GB μΈν„°λ„· (λ‹¨λ…)", "price": 38500, "speed_mbps": 1000, "type": "1G", "note": "λ‹¨λ… κΈ°λ³Έλ£" }
            ],
            "internetPlans_tv_bundle_prices": [ 
                // This category seems to represent final prices AFTER some TV bundle discount on internet,
                // but calculator logic now applies discounts dynamically. So, use internetPlans_base for dropdown.
            ],
            "tvPackages": [
                { "id": "tv_economy_smart3", "name": "B tv μ΄μ½”λ…Έλ―Έ (183μ±„λ„) + μ¤λ§νΈ3", "price": 14300, "channels": 183, "stb": "μ¤λ§νΈ3", "category": "Economy" },
                { "id": "tv_standard_smart3", "name": "B tv μ¤νƒ λ‹¤λ“ (234μ±„λ„) + μ¤λ§νΈ3", "price": 17600, "channels": 234, "stb": "μ¤λ§νΈ3", "category": "Standard" },
                { "id": "tv_all_smart3", "name": "B tv ALL (257μ±„λ„) + μ¤λ§νΈ3", "price": 20900, "channels": 257, "stb": "μ¤λ§νΈ3", "category": "All" }
            ],
            "additionalTvPackages": [
                { "id": "addtv_none", "name": "μ„ νƒ μ•ν•¨", "price": 0},
                { "id": "addtv_economy_smart3", "name": "μ¶”κ°€TV μ΄μ½”λ…Έλ―Έ (183μ±„λ„) + μ¤λ§νΈ3", "price": 8250 },
                { "id": "addtv_standard_smart3", "name": "μ¶”κ°€TV μ¤νƒ λ‹¤λ“ (234μ±„λ„) + μ¤λ§νΈ3", "price": 9900 }
            ],
            "phonePlans": [ { "id": "phone_landline", "name": "μΌλ° μ „ν™”", "price": 1100 } ],
            "addOnServices": [ { "id": "wifi_router_default", "name": "μ™€μ΄νμ΄ κ³µμ κΈ°", "price": 1100 } ],
            "bundleInternetDiscounts": [], // This will be populated from fetched JSON
            "installationFees": { "internet_only_weekday": { "description": "μΈν„°λ„· λ‹¨λ… (ν‰μΌ)", "price": 36300 }}
        };
        
        // --- Existing Calculator Configs (Discounts, Gifts not in user's JSON) ---
        const wifiRouterBaseFee = 1100;
        const yozoomGajokConfig = { // These are ADDITIONAL discounts to the base 5500 if applicable
            internetDiscount: { 
                "λ‹¨λ…": { "100M": 4400, "500M": 11000, "1G": 13200, "2.5G": 13200 },
                "μΈν‹°λ²λ“¤": { "100M": 4400, "500M": 6600, "1G": 8800, "2.5G": 8800 }
            },
            mobileDiscountTiers: {
                "100M": [{ lines: 0, discount: 0 },{ lines: 1, discount: 3500 },{ lines: 2, discount: 7000 },{ lines: 3, discount: 18000 },{ lines: 4, discount: 18000 },{ lines: 5, discount: 18000 }],
                "500M_1G_2.5G": [{ lines: 0, discount: 0 },{ lines: 1, discount: 3500 },{ lines: 2, discount: 7000 },{ lines: 3, discount: 18000 },{ lines: 4, discount: 24000 },{ lines: 5, discount: 24000 }]
            }
        };
        const onGajokConfig = {
            internetDiscountRate: {"0_9": 0.10, "10_19": 0.20, "20_29": 0.30, "30_plus": 0.50},
            mobileDiscountRate: {"0_9": 0, "10_19": 0, "20_29": 0.10, "30_plus": 0.30}
        };
        // familySktConfig and mvnoSktConfig will now primarily use values from parsed JSON's bundleInternetDiscounts
        
        const BASE_INTERNET_TV_500M_PLUS_DISCOUNT = 5500;

        const giftTableSktBase = { 
            "100M": { "λ‹¨λ…": 110000, "λ²λ“¤": 430000 }, "500M": { "λ‹¨λ…": 170000, "λ²λ“¤": 480000 },
            "1G":   { "λ‹¨λ…": 170000, "λ²λ“¤": 480000 }, "2.5G": { "λ‹¨λ…": 170000, "λ²λ“¤": 480000 }
        };
        const dongpanGiftTable = { 
            "33K": {"100M": {"Economy": 55000, "Standard": 60000, "All": 65000, "λ‹¨λ…": 0 },"500M": {"Economy": 60000, "Standard": 65000, "All": 70000, "λ‹¨λ…": 0 },"1G":   {"Economy": 60000, "Standard": 65000, "All": 70000, "λ‹¨λ…": 0 }},
            "69K": {"100M": {"λ‹¨λ…": 130000, "Economy": 159500, "Standard": 174000, "All": 188500 },"500M": {"λ‹¨λ…": 140000, "Economy": 174000, "Standard": 188500, "All": 203000 },"1G":   {"λ‹¨λ…": 140000, "Economy": 174000, "Standard": 188500, "All": 203000 }},
            "80K": {"100M": {"λ‹¨λ…": 162500, "Economy": 181500, "Standard": 198000, "All": 214500 },"500M": {"λ‹¨λ…": 175000, "Economy": 198000, "Standard": 214500, "All": 231000 },"1G":   {"λ‹¨λ…": 175000, "Economy": 198000, "Standard": 214500, "All": 231000 }}
        };
        const DONGPAN_PER_MOBILE_LINE_ADDITIONAL_GIFT_PLACEHOLDER = 10000; // Placeholder gift per line for "λ™ν + λ‹¤νμ„  λ¨λ°”μΌ"

        // DOM Elements (shortened for brevity, assumed to be fetched as before)
        const internetPlanEl = document.getElementById('internetPlan');
        const wifiRouterRentalEl = document.getElementById('wifiRouterRental');
        const tvPlanEl = document.getElementById('tvPlan');
        const tvStbEl = document.getElementById('tvStb');
        const additionalTvPlanEl = document.getElementById('additionalTvPlan');
        const phonePlanEl = document.getElementById('phonePlan');
        const mobileLinesCountEl = document.getElementById('mobileLinesCount');
        const mobileLinesContainerEl = document.getElementById('mobileLinesContainer');
        const dongpanSalesCheckEl = document.getElementById('dongpanSalesCheck');
        const dongpanUsimPolicyDetailsContainerEl = document.getElementById('dongpanUsimPolicyDetailsContainer');
        const discountTypeRadios = document.querySelectorAll('input[name="discountType"]');
        const bundleApplicationTimeRadios = document.querySelectorAll('input[name="bundleApplicationTime"]');
        const onGajokYearsGroupEl = document.getElementById('onGajokYearsGroup');
        const onGajokYearsEl = document.getElementById('onGajokYears');
        
        const yozoomGajokDetailsToggleEl = document.getElementById('yozoomGajokDetailsToggle');
        const yozoomGajokDetailsContainerEl = document.getElementById('yozoomGajokDetailsContainer');
        const detailYgInternetDiscountEl = document.getElementById('detailYgInternetDiscount');
        const detailYgInternetTypeEl = document.getElementById('detailYgInternetType'); // Added for clarity in details
        const detailYgMobileDiscountEl = document.getElementById('detailYgMobileDiscount');
        const yozoomGajokInternetDiscountTiersEl = document.getElementById('yozoomGajokInternetDiscountTiers');
        const yozoomGajokMobileDiscountTiersEl = document.getElementById('yozoomGajokMobileDiscountTiers');

        const onGajokDetailsToggleEl = document.getElementById('onGajokDetailsToggle');
        const onGajokDetailsContainerEl = document.getElementById('onGajokDetailsContainer');
        const detailOgInternetDiscountEl = document.getElementById('detailOgInternetDiscount');
        const detailOgMobileDiscountEl = document.getElementById('detailOgMobileDiscount');

        const familySktDetailsToggleEl = document.getElementById('familySktDetailsToggle');
        const familySktDetailsContainerEl = document.getElementById('familySktDetailsContainer');
        const detailFsInternetDiscountEl = document.getElementById('detailFsInternetDiscount');
        
        const mvnoSktDetailsToggleEl = document.getElementById('mvnoSktDetailsToggle'); 
        const mvnoSktDetailsContainerEl = document.getElementById('mvnoSktDetailsContainer'); 
        const detailMsInternetDiscountEl = document.getElementById('detailMsInternetDiscount'); 

        const calculateButton = document.getElementById('calculateButton');
        const resultSection = document.getElementById('resultSection');
        
        const selectedInternetEl = document.getElementById('selectedInternet');
        const selectedTvEl = document.getElementById('selectedTv');
        const selectedStbEl = document.getElementById('selectedStb');
        const selectedAdditionalTvEl = document.getElementById('selectedAdditionalTv');
        const selectedPhoneEl = document.getElementById('selectedPhone');
        const selectedMobileCountEl = document.getElementById('selectedMobileCount');
        const selectedDiscountTypeEl = document.getElementById('selectedDiscountType');
        const selectedOnGajokYearsEl = document.getElementById('selectedOnGajokYears');
        const onGajokYearsResultContainerEl = document.getElementById('onGajokYearsResultContainer');
        
        const totalBaseInternetCostEl = document.getElementById('totalBaseInternetCost');
        const totalInternetDiscountAmountEl = document.getElementById('totalInternetDiscountAmount');
        const internetDiscountBreakdownEl = document.getElementById('internetDiscountBreakdown');
        const internetModemRentalEl = document.getElementById('internetModemRental');
        const wifiRouterRentalCostDisplayEl = document.getElementById('wifiRouterRentalCostDisplay');
        
        const tvCostSummaryContainerEl = document.getElementById('tvCostSummaryContainer');
        const tvBaseCostDisplayEl = document.getElementById('tvBaseCostDisplay');
        const tvDiscountDisplayEl = document.getElementById('tvDiscountDisplay');
        const stbRentalCostDisplayEl = document.getElementById('stbRentalCostDisplay');

        const additionalTvCostSummaryContainerEl = document.getElementById('additionalTvCostSummaryContainer');
        const additionalTvCostDisplayEl = document.getElementById('additionalTvCostDisplay');

        const phoneCostSummaryContainerEl = document.getElementById('phoneCostSummaryContainer');
        const phoneBaseCostDisplayEl = document.getElementById('phoneBaseCostDisplay');
        const phoneDiscountDisplayEl = document.getElementById('phoneDiscountDisplay');

        const finalMonthlyCostEl = document.getElementById('finalMonthlyCost');
        const finalCostLabelTextEl = document.getElementById('finalCostLabelText');
        const finalCostLabelQualifierEl = document.getElementById('finalCostLabelQualifier');
        const installationCostResultEl = document.getElementById('installationCostResult');
        
        const giftBaseInternetEl = document.getElementById('giftBaseInternet');
        const additionalDongpanCashContainerEl = document.getElementById('additionalDongpanCashContainer');
        const giftAdditionalDongpanCashEl = document.getElementById('giftAdditionalDongpanCash');
        const dongpanMobileLinesGiftContainerEl = document.getElementById('dongpanMobileLinesGiftContainer');
        const giftDongpanMobileLinesEl = document.getElementById('giftDongpanMobileLines');
        const giftTotalEl = document.getElementById('giftTotal');
        const giftEligibilityNoteEl = document.getElementById('giftEligibilityNote');


        const messageScriptSectionEl = document.getElementById('messageScriptSection');
        const memoScriptEl = document.getElementById('memoScript');
        const infoScriptEl = document.getElementById('infoScript');
        const completeScriptEl = document.getElementById('completeScript');
        const usimDongpanCompleteScriptEl = document.getElementById('usimDongpanCompleteScript');
        const baekmegaEtcMemoScriptEl = document.getElementById('baekmegaEtcMemoScript');
        const sensitiveInfoLinkScriptEl = document.getElementById('sensitiveInfoLinkScript');

        // --- Populate Select Options from SK_DATA ---
        function populateSelectOptions() {
            // Internet Plans
            const internetData = SK_DATA.internetPlans_base || defaultSkData.internetPlans_base;
            internetPlanEl.innerHTML = '<option value="none">μ„ νƒ μ•ν•¨</option>';
            internetData.forEach(plan => {
                const option = document.createElement('option');
                option.value = plan.name; // Using name as value for simplicity, ID could be better
                option.textContent = `${plan.name} (${plan.speed_mbps}Mbps, μ›” ${plan.price.toLocaleString()}μ›)`;
                option.dataset.price = plan.price;
                option.dataset.speed = plan.speed_mbps;
                option.dataset.type = plan.type;
                if (plan.name === "100M μΈν„°λ„· (λ‹¨λ…)") option.selected = true; // Default as per user
                internetPlanEl.appendChild(option);
            });

            // TV Plans
            const tvData = SK_DATA.tvPackages || defaultSkData.tvPackages;
            tvPlanEl.innerHTML = '<option value="none" data-category="λ‹¨λ…">μ„ νƒ μ•ν•¨</option>';
            tvData.forEach(plan => {
                const option = document.createElement('option');
                option.value = plan.id; // Use unique ID from JSON
                option.textContent = `${plan.name} (μ›” ${plan.price.toLocaleString()}μ›)`;
                option.dataset.price = plan.price;
                option.dataset.category = plan.base_tv_plan || plan.name.includes("μ΄μ½”λ…Έλ―Έ") ? "Economy" : plan.name.includes("μ¤νƒ λ‹¤λ“") ? "Standard" : plan.name.includes("ALL") ? "All" : "λ‹¨λ…"; // Infer category
                if (plan.id === "tv_economy_smart3") option.selected = true;
                tvPlanEl.appendChild(option);
            });
            
            // TV STBs (Combined from addOnServices and default known STBs)
            const stbData = (SK_DATA.addOnServices || defaultSkData.addOnServices).filter(s => s.type === 'STB' || s.type === 'AI STB');
            tvStbEl.innerHTML = '<option value="none" data-price="0">μ„ νƒ μ•ν•¨ (TV λ―Έμ„ νƒ μ‹)</option>';
            // Add standard STBs if not in JSON or provide fallbacks
            if (!stbData.find(s => s.name.includes("μ¤λ§νΈ3"))) { // Assuming Smart 3 is a common choice
                 const defaultSmart3 = document.createElement('option');
                 defaultSmart3.value = "Smart 3"; defaultSmart3.textContent = "Smart 3 μ…‹ν†±λ°•μ¤ (μ›” 4,400μ›)"; defaultSmart3.dataset.price = 4400;
                 tvStbEl.appendChild(defaultSmart3);
            }
            if (!stbData.find(s => s.name.includes("μ• ν”"))) {
                 const defaultApple = document.createElement('option');
                 defaultApple.value = "Apple TV 4K"; defaultApple.textContent = "Apple TV 4K μ…‹ν†±λ°•μ¤ (μ›” 6,600μ›)"; defaultApple.dataset.price = 6600;
                 tvStbEl.appendChild(defaultApple);
            }
            stbData.forEach(stb => {
                const option = document.createElement('option');
                option.value = stb.id;
                option.textContent = `${stb.name} (μ›” ${stb.price.toLocaleString()}μ›)`;
                option.dataset.price = stb.price;
                tvStbEl.appendChild(option);
            });
            if (tvStbEl.options.length > 1 && tvStbEl.value === "none") tvStbEl.value = "Smart 3"; // Default STB

            // Additional TV Plans
            const addTvData = SK_DATA.additionalTvPackages || defaultSkData.additionalTvPackages;
            additionalTvPlanEl.innerHTML = '<option value="none" data-price="0" data-name="μ„ νƒ μ•ν•¨">μ„ νƒ μ•ν•¨</option>';
            addTvData.forEach(plan => {
                if (plan.id === "addtv_none") return; // Skip the placeholder if already added
                const option = document.createElement('option');
                option.value = plan.id;
                option.textContent = `${plan.name} (μ›” ${plan.price.toLocaleString()}μ›)`;
                option.dataset.price = plan.price;
                option.dataset.name = plan.name;
                additionalTvPlanEl.appendChild(option);
            });


            // Phone Plans
            const phoneData = SK_DATA.phonePlans || defaultSkData.phonePlans;
            phonePlanEl.innerHTML = '<option value="none">μ„ νƒ μ•ν•¨</option>';
            phoneData.forEach(plan => {
                const option = document.createElement('option');
                option.value = plan.id;
                option.textContent = `${plan.name} (μ›” ${plan.price.toLocaleString()}μ›)`;
                option.dataset.price = plan.price;
                phonePlanEl.appendChild(option);
            });
            phonePlanEl.value = "none"; // Default
        }


        // --- Main Calculation Logic ---
        function calculateAndDisplayResults() {
            // ... (fetch all input values as before)
            const internetPlanName = internetPlanEl.options[internetPlanEl.selectedIndex].text.split(' (')[0]; // Get name for display
            const internetPlanData = SK_DATA.internetPlans_base.find(p => p.name === internetPlanName) || 
                                     defaultSkData.internetPlans_base.find(p => p.name === internetPlanName) || 
                                     { basePrice: 0, modemFee: 0, type: "none", speed: 0 };

            const tvPlanSelectedId = tvPlanEl.value;
            const tvPlanData = (SK_DATA.tvPackages || defaultSkData.tvPackages).find(p=>p.id === tvPlanSelectedId) || {price:0, category:"λ‹¨λ…"};


            const tvStbSelectedId = tvStbEl.value;
            let tvStbData;
            if (tvStbSelectedId === "Smart 3") tvStbData = { rentalFee: 4400 }; // fallback if not in JSON
            else if (tvStbSelectedId === "Apple TV 4K") tvStbData = { rentalFee: 6600 }; // fallback
            else tvStbData = (SK_DATA.addOnServices || defaultSkData.addOnServices).find(s=>s.id === tvStbSelectedId) || {rentalFee:0, price: 0};
            const stbRental = tvStbData.rentalFee || tvStbData.price || 0;


            const additionalTvPlanId = additionalTvPlanEl.value;
            const additionalTvData = (SK_DATA.additionalTvPackages || defaultSkData.additionalTvPackages).find(p=>p.id === additionalTvPlanId) || {price:0};

            const phonePlanId = phonePlanEl.value;
            const phonePlanData = (SK_DATA.phonePlans || defaultSkData.phonePlans).find(p=>p.id === phonePlanId) || {price:0};


            const wantsWifiRouter = wifiRouterRentalEl.checked;
            const numMobileLines = parseInt(mobileLinesCountEl.value) || 0;
            const isDongpanSalesChecked = dongpanSalesCheckEl.checked;
            const discountType = document.querySelector('input[name="discountType"]:checked').value;
            const selectedBundleApplicationTime = document.querySelector('input[name="bundleApplicationTime"]:checked').value;
            const installationTime = document.querySelector('input[name="installationTime"]:checked').value;
            const selectedYearsKey = onGajokYearsEl.value;

            let currentInternet = { // Reconstruct currentInternet from matched data
                basePrice: internetPlanData.price,
                modemFee: 0, // Assuming modem fee is included or 0 as per original structure
                speed: internetPlanData.speed_mbps,
                type: internetPlanData.type
            };
            let internetBase = currentInternet.basePrice;
            let modemRental = currentInternet.modemFee;
            let internetDiscount = 0;
            let actualWifiRouterFee = 0;
            let tvBase = tvPlanData.price;
            let currentTvDiscount = 0; // SKT TV bundles don't usually have separate TV fee discount
            // let stbRental = stbData.rentalFee; // already got this
            let phoneBase = phonePlanData.price;
            let phoneDiscount = 0; // SKT Phone bundles don't usually have separate phone fee discount
            let additionalTvCost = additionalTvData.price;
            let internetDiscountBreakdownText = "";


            if (wantsWifiRouter && internetPlanData.id !== 'none') { // Check valid internet plan
                if (currentInternet.speed >= 1000) { actualWifiRouterFee = 0;}
                else { actualWifiRouterFee = wifiRouterBaseFee;}
            }
            
            let base5500DiscountApplied = 0;
            if (currentInternet.speed >= 500 && tvPlanSelectedId !== 'none') {
                base5500DiscountApplied = BASE_INTERNET_TV_500M_PLUS_DISCOUNT;
            }
            
            let bundleSpecificAdditionalInternetDiscount = 0;
            let internetBaseForPercentageCalc = internetBase - base5500DiscountApplied;

            const tvIsPresent = tvPlanSelectedId !== 'none';

            if (currentInternet.type !== "none") {
                if (discountType === 'yozoomGajok') {
                    let yozoomInternetTypeKey = tvIsPresent ? "μΈν‹°λ²λ“¤" : "λ‹¨λ…";
                    bundleSpecificAdditionalInternetDiscount = (yozoomGajokConfig.internetDiscount[yozoomInternetTypeKey] && yozoomGajokConfig.internetDiscount[yozoomInternetTypeKey][currentInternet.type]) ? yozoomGajokConfig.internetDiscount[yozoomInternetTypeKey][currentInternet.type] : 0;
                    // This "bundleSpecific" is now the "additional" part if 5500 applied, or total if 5500 didn't apply
                    if (base5500DiscountApplied === 0 && yozoomInternetTypeKey === "μΈν‹°λ²λ“¤") { // e.g. 100M + TV
                        // In this case, the value from μΈν‹°λ²λ“¤ is the total discount
                        base5500DiscountApplied = 0; // ensure it stays 0
                        // bundleSpecificAdditionalInternetDiscount is already set from config
                    } else if (base5500DiscountApplied > 0 && yozoomInternetTypeKey === "μΈν‹°λ²λ“¤") {
                        // The values in config are *additional* for 500M+TV
                        // So bundleSpecificAdditionalInternetDiscount is correct as the additional part
                    } else if (yozoomInternetTypeKey === "λ‹¨λ…") {
                        base5500DiscountApplied = 0; // No 5500 for λ‹¨λ…
                         // bundleSpecificAdditionalInternetDiscount is total for λ‹¨λ…
                    }


                } else if (discountType === 'onGajok') { 
                    const rate = onGajokConfig.internetDiscountRate[selectedYearsKey] || 0;
                    bundleSpecificAdditionalInternetDiscount = Math.floor(internetBaseForPercentageCalc * rate);
                } else { // For familySkt, mvnoSkt, their config value is the *additional* amount
                    const configMap = { familySkt: familySktConfig, mvnoSkt: mvnoSktConfig };
                    if (configMap[discountType]) {
                        bundleSpecificAdditionalInternetDiscount = configMap[discountType].internetDiscount[currentInternet.type] || 0;
                        if (base5500DiscountApplied === 0 && tvIsPresent && currentInternet.speed >= 500) {
                            // This case should not happen if 5500 is always applied first for >=500M+TV
                            // This means family/mvno values are total if 5500 isn't applicable
                            // This logic becomes tricky. Let's use the JSON `bundleInternetDiscounts` for these.
                            base5500DiscountApplied = 0; // Reset, take from JSON directly
                            const currentConditionKey = currentInternet.type + (tvIsPresent ? " + TV" : " (λ‹¨λ…)");
                            const jsonDiscountEntry = (SK_DATA.bundleInternetDiscounts || defaultSkData.bundleInternetDiscounts).find(
                                d => d.bundle_name === discountTypeMapSkt[discountType] && // Map internal key to JSON key
                                     d.condition.includes(currentInternet.type) &&
                                     ((tvIsPresent && d.condition.includes("+ TV")) || (!tvIsPresent && d.condition.includes("(λ‹¨λ…)")))
                            );
                            if (jsonDiscountEntry) {
                                bundleSpecificAdditionalInternetDiscount = jsonDiscountEntry.discount_amount;
                            } else {
                                bundleSpecificAdditionalInternetDiscount = 0; // Fallback
                            }

                        } else if (base5500DiscountApplied > 0 && tvIsPresent && currentInternet.speed >= 500) {
                             // The values in familySktConfig/mvnoSktConfig are *additional*
                        } else { // No TV or < 500M
                            base5500DiscountApplied = 0;
                        }
                    }
                }
            }
            internetDiscount = base5500DiscountApplied + bundleSpecificAdditionalInternetDiscount;
            internetDiscount = Math.max(0, Math.min(internetDiscount, internetBase));

            if (base5500DiscountApplied > 0 && bundleSpecificAdditionalInternetDiscount > 0) {
                internetDiscountBreakdownText = `(κΈ°λ³ΈI+TV ${base5500DiscountApplied.toLocaleString()} + μ¶”κ°€ ${bundleSpecificAdditionalInternetDiscount.toLocaleString()}μ›)`;
            } else if (base5500DiscountApplied > 0) {
                 internetDiscountBreakdownText = `(κΈ°λ³ΈI+TV ${base5500DiscountApplied.toLocaleString()}μ›)`;
            } else if (bundleSpecificAdditionalInternetDiscount > 0) {
                 internetDiscountBreakdownText = `(κ²°ν•©ν• μΈ ${bundleSpecificAdditionalInternetDiscount.toLocaleString()}μ›)`;
            } else { internetDiscountBreakdownText = "";}


            allDetailSectionsSkt.forEach(section => {
                if (document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`).checked && section.toggleEl && section.toggleEl.checked && section.updateFn) {
                    section.updateFn(); 
                }
            });
            
            let effectiveInternetDiscount = internetDiscount;
            if (selectedBundleApplicationTime === 'post') {
                effectiveInternetDiscount = 0;
            }
            
            const finalInternetComponentCost = internetBase - effectiveInternetDiscount + modemRental + actualWifiRouterFee;
            let finalTvComponentCost = 0;
            if (tvPlanSelectedId !== 'none') {
                let effectiveTvDiscount = (selectedBundleApplicationTime === 'post') ? 0 : currentTvDiscount;
                finalTvComponentCost = tvBase - Math.max(0, Math.min(effectiveTvDiscount, tvBase)) + stbRental;
            }
            let finalPhoneComponentCost = 0;
            if (phonePlanId !== 'none') {
                let effectivePhoneDiscount = (selectedBundleApplicationTime === 'post') ? 0 : phoneDiscount;
                finalPhoneComponentCost = phoneBase - effectivePhoneDiscount; 
            }
            const finalMonthlyDisplayCost = finalInternetComponentCost + finalTvComponentCost + additionalTvCost + finalPhoneComponentCost;

            // Update UI (Summary)
            totalBaseInternetCostEl.textContent = internetBase.toLocaleString();
            totalInternetDiscountAmountEl.textContent = internetDiscount.toLocaleString(); 
            internetDiscountBreakdownEl.textContent = internetDiscountBreakdownText;
            internetModemRentalEl.textContent = modemRental.toLocaleString();
            wifiRouterRentalCostDisplayEl.textContent = actualWifiRouterFee.toLocaleString();
            tvCostSummaryContainerEl.classList.toggle('hidden', tvPlanSelectedId === 'none');
            if (tvPlanSelectedId !== 'none') {
                tvBaseCostDisplayEl.textContent = tvBase.toLocaleString();
                tvDiscountDisplayEl.textContent = currentTvDiscount.toLocaleString(); 
                stbRentalCostDisplayEl.textContent = stbRental.toLocaleString();
            }
            additionalTvCostSummaryContainerEl.classList.toggle('hidden', additionalTvPlanKey === 'none');
            if(additionalTvPlanKey !== 'none') {
                additionalTvCostDisplayEl.textContent = additionalTvCost.toLocaleString();
            }
            phoneCostSummaryContainerEl.classList.toggle('hidden', phonePlanId === 'none');
            if(phonePlanId !== 'none') {
                phoneBaseCostDisplayEl.textContent = phoneBase.toLocaleString();
                phoneDiscountDisplayEl.textContent = phoneDiscount.toLocaleString(); 
            }
            finalMonthlyCostEl.textContent = finalMonthlyDisplayCost.toLocaleString();
            finalCostLabelTextEl.textContent = "μµμΆ… μμƒ μ›” λ‚©λ¶€μ•΅";
            finalCostLabelQualifierEl.textContent = (selectedBundleApplicationTime === 'post') ? "(ν• μΈ μ „)" : "(ν• μΈ μ μ©)";

            // Installation Fee (using JSON data)
            let calculatedInstallationFee = 0;
            const instFees = SK_DATA.installationFees || defaultSkData.installationFees;
            const hasInternetService = internetPlanData.id !== 'none';
            const hasTvService = tvPlanSelectedId !== 'none';
            const hasAdditionalTvService = additionalTvPlanKey !== 'none';
            const hasPhoneService = phonePlanId !== 'none';
            const isWeekend = installationTime === 'weekend';

            // This logic needs to be more robust based on how installationFees are structured in JSON
            if (hasInternetService && hasTvService && hasAdditionalTvService) { calculatedInstallationFee = instFees[isWeekend ? "internet_plus_tv_plus_addTv_weekend" : "internet_plus_tv_plus_addTv_weekday"]?.price || 0;}
            else if (hasInternetService && hasTvService && hasPhoneService) { calculatedInstallationFee = instFees[isWeekend ? "internet_plus_tv_plus_phone_weekend" : "internet_plus_tv_plus_phone_weekday"]?.price || 0;}
            else if (hasInternetService && hasTvService) {
                if (currentInternet.speed >= 1000 && wantsWifiRouter && instFees[isWeekend ? "internet_1g_wifi_promo_total_fee_with_tv_weekend" : "internet_1g_wifi_promo_total_fee_with_tv_weekday"]) { // Promo check
                     calculatedInstallationFee = instFees[isWeekend ? "internet_1g_wifi_promo_total_fee_with_tv_weekend" : "internet_1g_wifi_promo_total_fee_with_tv_weekday"].price;
                } else {
                    calculatedInstallationFee = instFees[isWeekend ? "internet_plus_tv_weekend" : "internet_plus_tv_weekday"]?.price || 0;
                }
            }
            else if (hasInternetService && hasPhoneService) { 
                const phoneType = (phonePlanData.name && phonePlanData.name.includes("070")) ? "070" : "landline";
                if (phoneType === "070") calculatedInstallationFee = instFees[isWeekend ? "internet_plus_phone_070_weekend" : "internet_plus_phone_070_weekday"]?.price || 0;
                else calculatedInstallationFee = instFees[isWeekend ? "internet_plus_phone_landline_weekend" : "internet_plus_phone_landline_weekday"]?.price || 0;
            }
            else if (hasInternetService) { 
                if (currentInternet.speed >= 1000 && wantsWifiRouter && instFees.internet_1g_wifi_promo_total_fee_internet_only) { // Promo check
                    calculatedInstallationFee = instFees.internet_1g_wifi_promo_total_fee_internet_only[isWeekend ? "weekend" : "weekday"]; // Assuming promo has weekday/weekend, though JSON showed 0 for both
                } else {
                    calculatedInstallationFee = instFees[isWeekend ? "internet_only_weekend" : "internet_only_weekday"]?.price || 0;
                }
            }
             // ... more conditions for TV only, Phone only etc. based on JSON structure
            
            selectedInternetEl.textContent = internetPlanData.id !== 'none' ? internetPlanData.name : 'λ―Έμ„ νƒ';
            selectedTvEl.textContent = tvPlanData.id ? tvPlanData.name : 'λ―Έμ„ νƒ';
            selectedStbEl.textContent = tvStbData.id ? tvStbData.name : (tvStbSelectedId !== 'none' ? tvStbSelectedId : 'λ―Έμ„ νƒ');
            selectedAdditionalTvEl.textContent = additionalTvData.id ? additionalTvData.name : 'λ―Έμ„ νƒ';
            selectedPhoneEl.textContent = phonePlanData.id ? phonePlanData.name : 'λ―Έμ„ νƒ';
            selectedMobileCountEl.textContent = numMobileLines;
            
            const discountTypeMapSkt = {"yozoomGajok": "μ”μ¦ κ°€μ΅± κ²°ν•©","onGajok": "μ¨κ°€μ΅± ν• μΈ", "familySkt": "ν¨λ°€λ¦¬ κ²°ν•©", "mvnoSkt": "μ•λ°ν• κ²°ν•©"};
            selectedDiscountTypeEl.textContent = discountTypeMapSkt[discountType];

            onGajokYearsResultContainerEl.classList.toggle('hidden', discountType !== 'onGajok');
            if (discountType === 'onGajok') {
                selectedOnGajokYearsEl.textContent = onGajokYearsEl.options[onGajokYearsEl.selectedIndex].text;
            }
            installationCostResultEl.textContent = calculatedInstallationFee.toLocaleString();

            // Gift Calculation
            let baseInternetGift = 0;
            let additionalDongpanCashSum = 0;
            let giftNote = "";

            if (currentInternet.type !== "none") {
                const internetTypeForBase = currentInternet.type;
                const isTvBundledForBase = tvPlanSelectedId !== 'none';
                const giftKeyForBase = isTvBundledForBase ? "λ²λ“¤" : "λ‹¨λ…";
                if (giftTableSktBase[internetTypeForBase] && giftTableSktBase[internetTypeForBase][giftKeyForBase] !== undefined) {
                    baseInternetGift = giftTableSktBase[internetTypeForBase][giftKeyForBase];
                }
            }
            giftBaseInternetEl.textContent = baseInternetGift.toLocaleString();

            additionalDongpanCashContainerEl.classList.toggle('hidden', !isDongpanSalesChecked);
            if (isDongpanSalesChecked) {
                let qualifyingDongpanMobiles = 0;
                for (let i = 0; i < numMobileLines; i++) {
                    const mobileCostInput = document.getElementById(`mobileCost${i}`);
                    if (!mobileCostInput) continue;
                    const mobileFee = parseInt(mobileCostInput.value) || 0;
                    let mobileFeeTier = null;
                    if (mobileFee >= 33000 && mobileFee <= 59000) mobileFeeTier = "33K";
                    else if (mobileFee >= 69000 && mobileFee < 79000) mobileFeeTier = "69K";
                    else if (mobileFee >= 79000 && mobileFee <= 100000) mobileFeeTier = "80K";

                    if (mobileFeeTier) {
                        qualifyingDongpanMobiles++;
                        let internetTypeForDongpan = currentInternet.type;
                        if (internetTypeForDongpan === "2.5G") internetTypeForDongpan = "1G";
                        let tvCategoryForDongpan = "λ‹¨λ…";
                        if (tvPlanSelectedId !== 'none' && tvPlans[tvPlanSelectedId]) { // Use tvPlanData instead
                            const selectedCat = tvPlanData.category; 
                            if (["Economy", "Standard", "All"].includes(selectedCat)) tvCategoryForDongpan = selectedCat;
                        }
                        if (dongpanGiftTable[mobileFeeTier] && dongpanGiftTable[mobileFeeTier][internetTypeForDongpan] &&
                            dongpanGiftTable[mobileFeeTier][internetTypeForDongpan][tvCategoryForDongpan] !== undefined) {
                            additionalDongpanCashSum += dongpanGiftTable[mobileFeeTier][internetTypeForDongpan][tvCategoryForDongpan];
                        }
                    }
                }
                if (numMobileLines > 0 && qualifyingDongpanMobiles === 0 && additionalDongpanCashSum === 0) {
                     giftNote = "λ™ν μ¶”κ°€ μ‚¬μ€ν’: μ„ νƒλ λ¨λ°”μΌ μ”κΈμ κ°€ λ™ν μ‚¬μ€ν’ μ§€κΈ‰ κΈ°μ¤€(μ²«λ²μ§Έ νμ„  3.3λ§ μ΄μƒ λ“±)μ— ν•΄λ‹Ήν•μ§€ μ•μµλ‹λ‹¤.";
                } else if (numMobileLines === 0 && isDongpanSalesChecked) {
                    giftNote = "λ™ν μ¶”κ°€ μ‚¬μ€ν’: λ¨λ°”μΌ νμ„ μ΄ μ—†μ–΄ λ™ν μ¶”κ°€ μ‚¬μ€ν’ μ΅°κ±΄μ΄ μ¶©μ΅±λμ§€ μ•μ•μµλ‹λ‹¤."
                }
            } else { additionalDongpanCashSum = 0; }
            giftAdditionalDongpanCashEl.textContent = additionalDongpanCashSum.toLocaleString();
            
            giftEligibilityNoteEl.textContent = giftNote;
            giftTotalEl.textContent = (baseInternetGift + additionalDongpanCashSum).toLocaleString();
            
            resultSection.classList.remove('hidden');
            messageScriptSectionEl.classList.remove('hidden');
            generateMessageScriptsSkt();
        }

        function generateMessageScriptsSkt() {
            // ... (Script generation remains largely the same, ensure giftBreakdown reflects new gift structure)
            const internetOption = internetPlanEl.options[internetPlanEl.selectedIndex];
            const internetPlanText = internetOption.value !== 'none' ? internetOption.text.split(' (')[0] : 'μΈν„°λ„· λ―Έμ„ νƒ';
            const tvOption = tvPlanEl.options[tvPlanEl.selectedIndex];
            let firstTvText = "λ―Έμ„ νƒ";
            if (tvOption.value !== 'none' && (SK_DATA.tvPackages || defaultSkData.tvPackages).find(p=>p.id === tvOption.value)) { 
                firstTvText = tvOption.options[tvOption.selectedIndex]?.text.split(' (')[0] || tvOption.value;
            }

            const stbOption = tvStbEl.options[tvStbEl.selectedIndex];
            let firstStbText = "λ―Έμ„ νƒ";
             if (tvOption.value !== 'none' && stbOption.value !== 'none' ) {
                 firstStbText = stbOption.options[stbOption.selectedIndex]?.text.split(' (')[0] || stbOption.value;
             }
            
            const additionalTvPlanId = additionalTvPlanEl.value;
            const additionalTvData = (SK_DATA.additionalTvPackages || defaultSkData.additionalTvPackages).find(p=>p.id === additionalTvPlanId) || {name:""};
            const additionalTvName = additionalTvData.name;
            const additionalTvText = additionalTvName && additionalTvName !== "μ„ νƒ μ•ν•¨" ? ` + (μ¶”κ°€) ${additionalTvName}` : "";

            const phonePlanId = phonePlanEl.value;
            const phoneData = (SK_DATA.phonePlans || defaultSkData.phonePlans).find(p=>p.id === phonePlanId) || {name:""};
            let phoneText = phoneData.name && phoneData.name !== "μ„ νƒ μ•ν•¨" ? phoneData.name : "λ―Έμ„ νƒ";


            const displayedMonthlyFee = finalMonthlyCostEl.textContent; 
            const selectedBundleAppTime = document.querySelector('input[name="bundleApplicationTime"]:checked').value;
            const potentialInternetDiscount = parseInt(totalInternetDiscountAmountEl.textContent.replace(/,/g, '')) || 0;
            const potentialTotalDiscount = potentialInternetDiscount; 


            let monthlyFeeText = `μ›” ${displayedMonthlyFee}μ›`;
            if (selectedBundleAppTime === 'post' && potentialTotalDiscount > 0) {
                const currentInternetInfo = SK_DATA.internetPlans_base.find(p => p.name === internetPlanEl.options[internetPlanEl.selectedIndex].text.split(' (')[0]) || {price:0};
                const currentTvInfo = (SK_DATA.tvPackages || defaultSkData.tvPackages).find(p=>p.id === tvPlanEl.value) || {price:0};
                
                let currentStbInfo;
                if (tvStbEl.value === "Smart 3") currentStbInfo = { price: 4400 };
                else if (tvStbEl.value === "Apple TV 4K") currentStbInfo = { price: 6600 };
                else currentStbInfo = (SK_DATA.addOnServices || defaultSkData.addOnServices).find(s=>s.id === tvStbEl.value) || {price:0};
                const currentStbPrice = currentStbInfo.price || 0;

                const currentAddTvInfo = (SK_DATA.additionalTvPackages || defaultSkData.additionalTvPackages).find(p=>p.id === additionalTvPlanEl.value) || {price:0};
                const currentPhoneInfo = (SK_DATA.phonePlans || defaultSkData.phonePlans).find(p=>p.id === phonePlanEl.value) || {price:0};
                const currentWifiFee = wifiRouterRentalEl.checked && currentInternetInfo.speed < 1000 ? wifiRouterBaseFee : 0;

                const baseFeeSum = (currentInternetInfo.price || 0) +
                                 (currentTvInfo.price || 0) +
                                 (tvPlanEl.value !== 'none' ? currentStbPrice : 0) +
                                 (currentAddTvInfo.price || 0) +
                                 (currentPhoneInfo.price || 0) +
                                 currentWifiFee;
                const finalDiscountedFee = baseFeeSum - potentialTotalDiscount;
                monthlyFeeText = `μ›” ${baseFeeSum.toLocaleString()}μ› (ν• μΈ μ „. κ²°ν•© μ™„λ£ μ‹ μ›” ${finalDiscountedFee.toLocaleString()}μ›, μ΄ μμƒ ν• μΈμ•΅: ${potentialTotalDiscount.toLocaleString()}μ›)`;
            } else {
                monthlyFeeText = `μ›” ${displayedMonthlyFee}μ› (ν• μΈ μ μ©)`;
            }

            const totalGift = giftTotalEl.textContent; 
            const baseInternetGiftText = document.getElementById('giftBaseInternet').textContent;
            const additionalDongpanGiftText = document.getElementById('giftAdditionalDongpanCash').textContent;
            const isDongpanChecked = dongpanSalesCheckEl.checked;

            let giftBreakdown = `κΈ°λ³Έ ${baseInternetGiftText}μ›`;
            if(isDongpanChecked && parseInt(additionalDongpanGiftText.replace(/,/g, '')) > 0) {
                giftBreakdown += ` + λ™νμ¶”κ°€(λ¨λ°”μΌμ—°λ™) ${additionalDongpanGiftText}μ›`;
            }

            const installFee = installationCostResultEl.textContent; 
            const installTime = document.querySelector('input[name="installationTime"]:checked').value;
            let installFeeForWeekendMessage = ""; 
            const hasInternet = internetPlanEl.value !== 'none'; // Use selected value
            const hasTv = tvPlanEl.value !== 'none'; // Use selected value
            
            const instFees = SK_DATA.installationFees || defaultSkData.installationFees; // Use SK_DATA
            if(installTime === 'weekend') {
                 if (hasInternet && hasTv && instFees.internet_plus_tv_weekend) {installFeeForWeekendMessage = instFees.internet_plus_tv_weekend.price.toLocaleString();}
                 else if (hasInternet && instFees.internet_only_weekend) {installFeeForWeekendMessage = instFees.internet_only_weekend.price.toLocaleString();}
                 else if (hasTv && instFees.tv_only_weekday) { /* Assuming tv_only_weekend exists */ installFeeForWeekendMessage = (instFees.tv_only_weekend?.price || instFees.tv_only_weekday.price * 1.25).toLocaleString() || "κ°λ³„ λ¬Έμ" ;} // Placeholder
                 else {installFeeForWeekendMessage = "κ°λ³„ λ¬Έμ (μ°Έκ³ μΉ)";}
            }

            let productDescriptionMemo = internetPlanText;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${firstStbText}`;
            productDescriptionMemo += additionalTvText;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionMemo += ` + ${phoneText}`;

            memoScriptEl.value = `[SKB/SKT λ―Έμ† μƒλ‹΄ λ©”λ¨]
1. μƒν’ : ${productDescriptionMemo}
2. μ”κΈ : ${monthlyFeeText}
3. μ‚¬μ€ν’ μ΄μ•΅ : ${totalGift}μ› (${giftBreakdown}) (μμƒ)
4. μ„¤μΉλΉ„ : ${installFee}μ› (SKT/SKB μ‹¤μ  λΉ„μ© ν™•μΈ ν•„μ”, μ£Όλ§/μ•Όκ°„ ν• μ¦ κ°€λ¥)
5. κ²°ν•©μ μ©μ‹μ : ${selectedBundleApplicationTime === 'pre' ? 'μ„ κ²°ν•©' : 'ν›„κ²°ν•©'}
6. κΈ°νƒ€ : μ΄μ‚¬ μ—¬λ¶€ [ ] / ν¬λ§μ„¤μΉμΌμ [    λ…„   μ›”   μΌ]
7. ν• μΈμ ν•: ${selectedDiscountTypeEl.textContent}
${onGajokYearsResultContainerEl.classList.contains('hidden') ? '' : `8. μ¨κ°€μ΅±μ΄μ—°μ: ${selectedOnGajokYearsEl.textContent}`}
9. λ¨λ°”μΌκ²°ν•©νμ„ : ${selectedMobileCountEl.textContent}κ°
10. λ™ννλ§¤κ°€μ μ©: ${isDongpanChecked ? 'Y' : 'N'}`;
            
            let productDescriptionInfo = `β–¶οΈ ${internetPlanText}`;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionInfo += `\nβ–¶οΈ ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ" && firstTvText !== "λ―Έμ„ νƒ") productDescriptionInfo += ` + ${firstStbText}`;
            if(additionalTvText) productDescriptionInfo += `\nβ–¶οΈ (μ¶”κ°€) ${additionalTvName}`;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionInfo += `\nβ–¶οΈ ${phoneText}`;

            infoScriptEl.value = `[SKB/SKT λ―Έμ†] μƒν’ & μ‚¬μ€ν’ μ”μ•½ μ•λ‚΄
μ•λ…•ν•μ„Έμ”, λ―Έμ† μΈν„°λ„·μ…λ‹λ‹¤.
κ³ κ°λ‹κ»μ„ μ¤λ μƒλ‹΄ λ°›μΌμ‹  SKλΈλ΅λ“λ°΄λ“/SKν…”λ μ½¤ μƒν’ μ•λ‚΄λ“λ¦½λ‹λ‹¤.
${productDescriptionInfo}
β–¶οΈ ${monthlyFeeText}
β–¶οΈ μ΄ μ‚¬μ€ν’ ${totalGift}μ› (${giftBreakdown}) (μμƒ)
* ννƒμ€ μ‹¤μ‹κ°„μΌλ΅ λ°”λ€” μ μλ‹¤λ” μ  μ•λ‚΄λ“λ¦½λ‹λ‹¤.
* 3λ…„ μ•½μ • κΈ°μ¤€, VAT ν¬ν•¨
λ―Έμ† λ“λ¦Ό.`;
            
            let productDescriptionComplete = `β–¶οΈ ${internetPlanText}`;
            if (firstTvText !== "λ―Έμ„ νƒ") productDescriptionComplete += `\nβ–¶οΈ ${firstTvText}`;
            if (firstStbText !== "λ―Έμ„ νƒ" && firstTvText !== "λ―Έμ„ νƒ") productDescriptionComplete += ` + ${firstStbText} μ…‹ν†± μ„λ€ ν¬ν•¨`;
            if(additionalTvText) productDescriptionComplete += `\nβ–¶οΈ (μ¶”κ°€) ${additionalTvName}`;
            if (phoneText !== "λ―Έμ„ νƒ") productDescriptionComplete += `\nβ–¶οΈ ${phoneText}`;

            completeScriptEl.value = `[SKB/SKT λ―Έμ†] κ°€μ… μ™„λ£ μ•λ‚΄
μ•λ…•ν•μ„Έμ”, κ³ κ°λ‹. λ―Έμ† SKλΈλ΅λ“λ°΄λ“/SKν…”λ μ½¤ λ¶€μ„μ…λ‹λ‹¤.
β… κ³„μ•½μ΄ μ™„λ£λμ—μ–΄μ”, μ•„λ λ‚΄μ©μ€ κ³„μ•½μ„μ™€ λ™μΌν• ν¨λ ¥μ΄ μμΌλ‹ κΌΌκΌΌν μ½μ–΄μ£Όμ„Έμ”.
β οΈ 3λ…„ μ•½μ •μ΄λ©°, μ•„λμ™€ κ°™μ€ μƒν™©μ— ν•΄λ‹Ήν•λ©΄ λ°›μΌμ…¨λ μ‚¬μ€ν’μ€ ν™μλ  μ μμµλ‹λ‹¤:
β‘  1λ…„ μ΄λ‚΄ ν•΄μ§€ β‘΅ 3κ°μ›”(90μΌ) μ΄μƒ μ •μ§€ β‘Ά 1λ…„ μ΄λ‚΄ μ”κΈμ  ν•ν–¥ β‘£ 3κ°μ›” μ΄λ‚΄ λ…μλ³€κ²½ β‘¤ κ°ν†µ 1κ°μ›” μ΄λ‚΄ κ²°μ μλ‹¨ μ§€λ΅ λ³€κ²½
β οΈ μ‹ κ· κ°€μ… ν›„ κΈ°μ΅΄ μΈν„°λ„·μ€ κΌ­ μ§μ ‘ ν•΄μ§€ν•΄μ£Όμ„Έμ”. μλ™ν•΄μ§€λμ§€ μ•μ•„ μ”κΈμ΄ μ΄μ¤‘ λ¶€κ³Όλ  μ μμµλ‹λ‹¤.
β οΈ 3λ…„ μ΄λ‚΄ ν•΄μ§€ μ‹ ν†µμ‹ μ‚¬ λ³Έμ‚¬μ— μ„μ•½κΈ(ν• μΈ λ°ν™κΈ) λ° λ©΄μ λ μ¥λΉ„ μ„λ€λ£/μ„¤μΉλΉ„ λ“±μ΄ λ¶€κ³Όλ  μ μμµλ‹λ‹¤.
β… κ°€μ… μƒν’ μ•λ‚΄
${productDescriptionComplete}
β–¶οΈ ${monthlyFeeText}
β–¶οΈ μ„¤μΉλΉ„ ${installFee}μ› μ²« λ‹¬ λ¶€κ³Ό ${installTime === 'weekday' ? '' : `(μ£Όλ§/μ•Όκ°„ μ„¤μΉ μ‹ ν• μ¦λ ${installFeeForWeekendMessage}μ› λ¶€κ³Ό κ°€λ¥μ„± - SKB ν™•μΈ)`}
β–¶οΈ μ΄ μ‚¬μ€ν’ ${totalGift}μ› (${giftBreakdown}) (μμƒ)
β… μ‚¬μ€ν’μ€ μ„¤μΉ ν›„ μμ—…μΌ κΈ°μ¤€ 7μΌ μ΄λ‚΄ μμ°¨ μ§€κΈ‰λ©λ‹λ‹¤. μ„¤μΉ ν›„ κ°ν†µ μ™„λ£ λ¬Έμλ¥Ό λ³΄λ‚΄μ£Όμ‹λ©΄ ν™•μΈ ν›„ μµλ€ν• λΉ λ¥Έ μ§€κΈ‰ λ„μ™€λ“λ¦¬κ² μµλ‹λ‹¤.
${installTime !== 'weekday' ? `-> μ£Όλ§/μ•Όκ°„ μ„¤μΉ μ‹ ν• μ¦λ μ„¤μΉλΉ„λ” ${installFeeForWeekendMessage}μ› λ¶€κ³Όλ  μ μμµλ‹λ‹¤ (SKB ν™•μΈ ν•„μ”).` : ''}
π” ν•΄λ‹Ή μ—°λ½μ²λ΅ μ—°λ½μ΄ μ–΄λ ¤μΈ κ²½μ° κ±±μ •ν•μ§€ λ§μ„Έμ”! μ•„λ λ€ν‘λ²νΈλ΅ λ¬Έμμ£Όμ‹λ©΄ ν™•μΈν•μ—¬ μ—°λ½λ“λ¦¬κ² μµλ‹λ‹¤.
[λ―Έμ†λ¥Ό μ†κ°ν•΄μ£Όμ„Έμ”]
μ§€μΈμ΄ λ―Έμ†μ—μ„ μΈν„°λ„·/TV μ„¤μΉν•λ©΄ μ†κ°ν•΄μ£Όμ‹  λ¶„μ—κ² ν„κΈ ννƒμ„ λ“λ ¤μ”! (μμ„Έν• λ‚΄μ©μ€ λ¬Έμ)
λ―Έμ† λ“λ¦Ό.`;

            if (usimDongpanCompleteScriptEl) {
                usimDongpanCompleteScriptEl.value = `[λ―Έμ†] μ μ‹¬ μ ‘μ μ™„λ£ μ•λ‚΄
μ•λ…•ν•μ„Έμ”, κ³ κ°λ‹.
λ―Έμ† μΈν„°λ„· λ¶€μ„μ…λ‹λ‹¤.
β… μ μ‹¬λ™ν μ ‘μκ°€ μ™„λ£λμ—μ–΄μ”, μ•„λ λ‚΄μ©μ€ κ³„μ•½μ„μ™€ λ™μΌν• ν¨λ ¥μ΄ μμΌλ‹ κΌΌκΌΌν μ½μ–΄μ£Όμ„Έμ”.β οΈ 12κ°μ›”/24κ°μ›” μ•½μ •μ΄λ©°, μ•„λμ™€ κ°™μ€ μƒν™©μ— ν•΄λ‹Ήν•λ©΄ λ°›μΌμ…¨λ μ‚¬μ€ν’μ€ ν™μ λ©λ‹λ‹¤.β‘  183μΌ μ΄λ‚΄ ν•΄μ§€ λ° μ”κΈμ  ν•ν–¥
β‘΅ κ°ν†µ ν›„ λ¬΄ν†µν™” λ€μƒ
β‘Ά 183μΌ μ΄λ‚΄ λ…μλ³€κ²½ ν†µμ‹ μ‚¬ λ³€κ²½ μ‹β‘£ 183μΌ μ΄λ‚΄ κ²°ν•© ν•΄μ§€
β‘¤ μΈν„°λ„· κ°ν†µ ν›„ μµμ›” λ§μΌκΉμ§€ κΌ­ μ μ‹¬ κ°ν†µμ΄ ν•„μ”ν•΄μ”!
β οΈ μ μ‹¬ κ°ν†µ μ™„λ£ λλ©΄ μ‚¬μ©ν•μ…¨λ μ μ‹¬κ³Ό κµμ²΄ν•μ—¬ κΈ°κΈ° μ „μ›μ„ 3~4ν κ»λ‹¤ ν‚¤μ‹λ©΄ λ©λ‹λ‹¤!β…μ‚¬μ€ν’μ€ μ„¤μΉ ν›„ 7μΌ μ΄λ‚΄ μλ™μΌλ΅ μ§€κΈ‰λλ‚ ν‰μΌκΈ°μ¤€ 5μ‹ μ΄μ „ κ°ν†µ λ°›μ•λ‹¤κ³  λ¬Έμ μ£Όμ‹λ©΄ λ‹ΉμΌμ…κΈ λ„μ›€λ“λ¦¬κ² μµλ‹λ‹¤.π” ν•΄λ‹Ή μ—°λ½μ²λ΅ μ—°λ½μ΄ μ–΄λ ¤μΈ κ²½μ° κ±±μ •ν•μ§€ λ§μ„Έμ”! μ•„λ λ€ν‘λ²νΈλ΅ λ¬Έμμ£Όμ‹λ©΄ ν™•μΈν•μ—¬ μ—°λ½λ“λ¦¬κ² μµλ‹λ‹¤. μ‹κ°„ μ–‘ν•΄ λ¶€νƒλ“λ ¤μ”.[λ―Έμ†λ¥Ό μ†κ°ν•΄μ£Όμ„Έμ”]
μ§€μΈμ΄ λ―Έμ†μ—μ„ μΈν„°λ„· μ„¤μΉν•λ©΄ μ†κ°ν•΄μ£Όμ‹  λ¶„μ—κ² 3λ§μ› λ“λ ¤μ”.β–¶ μ§€μΈμ—κ² μ¶”μ²ν•κ³  3O,OOOμ› λ°›κΈ° (β†“)
https://get.miso.kr/pZbfsUPthzb
λ―Έμ† λ“λ¦Ό.β λ―Έμ† λ€ν‘λ²νΈ 1577-8808 μ¤μ „ 9μ‹ ~ μ¤ν›„ 10μ‹ (μ—°μ¤‘λ¬΄ν΄)`;
            }

            if (baekmegaEtcMemoScriptEl) {
                baekmegaEtcMemoScriptEl.value = `<λ°±λ©”κ°€ κΈ°νƒ€ λ©”λ¨ μ–‘μ‹>
κ³ κ°λ… :
λ™νμ μ„ λ…μμ :
μ—°λ½μ² :
κΈ°μ΅΄ν†µμ‹ μ‚¬ :
μ μ‹¬λ°μ†΅μ£Όμ† :
μ„ νƒμ•½μ •μ—¬λ¶€ (12κ°μ›”/24κ°μ›”) :
μ”κΈμ  :μ μ‹¬λΉ„ ν›„μ²­κµ¬ λ™μ (Y/N) :
β… κ²°ν•©μ—¬λ¶€ (μ”κ°€/μ¨ν• ) :
β… ν• μΈμ§€μ •(λ€ν‘μν• μΈorλ¶„ν• ν• μΈ) :
β… ν¨μ¤orμ‹ μ©μΉ΄λ“ μΈμ¦ :`;
            }
            if (sensitiveInfoLinkScriptEl) {
                sensitiveInfoLinkScriptEl.value = `[SK] μ•„λλ§ν¬μ— κ³ κ°λ‹μ λ―Όκ°μ •λ³΄λ¥Ό μ…λ ¥ν•μ‹λ©΄ SKλ΅ κ³ κ°λ‹μ λ―Όκ°μ •λ³΄κ°€ μ§μ ‘ μ „μ†΅λ©λ‹λ‹¤
https://miso.kr/booking/forms/secure-details?querystring=κ³ κ°λ‹ μ „ν™”λ²νΈ`;
            }
        }

        function copyToClipboard(elementId, feedbackElementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            textarea.setSelectionRange(0, 99999); 
            try {
                document.execCommand('copy');
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'λ³µμ‚¬λμ—μµλ‹λ‹¤!';
                setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            } catch (err) {
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'λ³µμ‚¬ μ‹¤ν¨';
                 setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            }
            window.getSelection().removeAllRanges(); 
        }
        
        // Initialize
        function parseAndLoadSkData() {
            const jsonDataFromUser = { // PASTE THE JSON DATA PROVIDED BY USER HERE
             "internetPlans_base": [{"id":"internet_100m_standalone","name":"100M μΈν„°λ„· (λ‹¨λ…)","price":22000,"speed_mbps":100,"note":"λ‹¨λ… κΈ°λ³Έλ£"},{"id":"internet_500m_standalone","name":"500M μΈν„°λ„· (λ‹¨λ…)","price":33000,"speed_mbps":500,"note":"λ‹¨λ… κΈ°λ³Έλ£"},{"id":"internet_1g_standalone","name":"1GB μΈν„°λ„· (λ‹¨λ…)","price":38500,"speed_mbps":1000,"note":"λ‹¨λ… κΈ°λ³Έλ£"}],
             "internetPlans_tv_bundle_prices": [{"id":"internet_100m_with_tv","name":"100M μΈν„°λ„· (TV κ²°ν•© μ‹)","price":22000,"speed_mbps":100,"note":"TV κ²°ν•© μ‹ μΈν„°λ„· μµμΆ…κ°€ μ¶”μ •"},{"id":"internet_500m_with_tv","name":"500M μΈν„°λ„· (TV κ²°ν•© μ‹)","price":27500,"speed_mbps":500,"note":"TV κ²°ν•© μ‹ μΈν„°λ„· μµμΆ…κ°€ μ¶”μ •"},{"id":"internet_1g_with_tv","name":"1GB μΈν„°λ„· (TV κ²°ν•© μ‹)","price":33000,"speed_mbps":1000,"note":"TV κ²°ν•© μ‹ μΈν„°λ„· μµμΆ…κ°€ μ¶”μ •"}],
             "tvPackages": [{"id":"tv_economy_smart3","name":"B tv μ΄μ½”λ…Έλ―Έ (183μ±„λ„) + μ¤λ§νΈ3","price":14300,"channels":183,"stb":"μ¤λ§νΈ3"},{"id":"tv_standard_smart3","name":"B tv μ¤νƒ λ‹¤λ“ (234μ±„λ„) + μ¤λ§νΈ3","price":17600,"channels":234,"stb":"μ¤λ§νΈ3"},{"id":"tv_all_smart3","name":"B tv ALL (257μ±„λ„) + μ¤λ§νΈ3","price":20900,"channels":257,"stb":"μ¤λ§νΈ3"},{"id":"tv_standard_netflix_2p","name":"B tv μ¤νƒ λ‹¤λ“ λ„·ν”λ¦­μ¤ (2μΈ/1080p)","price":29900,"note":"λ™μ‹μ‹μ²­ 2μΈ/ν•΄μƒλ„ 1080p","base_tv_plan":"μ¤νƒ λ‹¤λ“","netflix_tier":"μ¤νƒ λ‹¤λ“"},{"id":"tv_standard_netflix_premium_4p","name":"B tv μ¤νƒ λ‹¤λ“ λ„·ν”λ¦­μ¤ ν”„λ¦¬λ―Έμ—„ (4μΈ/4K+HDR)","price":32900,"note":"λ™μ‹μ‹μ²­ 4μΈ/ν•΄μƒλ„ 4K+HDR","base_tv_plan":"μ¤νƒ λ‹¤λ“","netflix_tier":"ν”„λ¦¬λ―Έμ—„"},{"id":"tv_all_netflix_2p","name":"B tv ALL λ„·ν”λ¦­μ¤ (2μΈ/1080p)","price":32400,"note":"λ™μ‹μ‹μ²­ 2μΈ/ν•΄μƒλ„ 1080p","base_tv_plan":"ALL","netflix_tier":"μ¤νƒ λ‹¤λ“"},{"id":"tv_all_netflix_premium_4p","name":"B tv ALL λ„·ν”λ¦­μ¤ ν”„λ¦¬λ―Έμ—„ (4μΈ/4K+HDR)","price":35400,"note":"λ™μ‹μ‹μ²­ 4μΈ/ν•΄μƒλ„ 4K+HDR","base_tv_plan":"ALL","netflix_tier":"ν”„λ¦¬λ―Έμ—„"}],
             "additionalTvPackages": [{"id":"addtv_economy_smart3","name":"μ¶”κ°€TV μ΄μ½”λ…Έλ―Έ (183μ±„λ„) + μ¤λ§νΈ3","price":8250},{"id":"addtv_economy_apple","name":"μ¶”κ°€TV μ΄μ½”λ…Έλ―Έ (μ• ν”μ…‹νƒ‘)","price":8250},{"id":"addtv_standard_smart3","name":"μ¶”κ°€TV μ¤νƒ λ‹¤λ“ (234μ±„λ„) + μ¤λ§νΈ3","price":9900},{"id":"addtv_standard_apple","name":"μ¶”κ°€TV μ¤νƒ λ‹¤λ“ (μ• ν”μ…‹νƒ‘)","price":9900},{"id":"addtv_all_smart3","name":"μ¶”κ°€TV ALL (257μ±„λ„) + μ¤λ§νΈ3","price":11550},{"id":"addtv_all_apple","name":"μ¶”κ°€TV ALL (μ• ν”μ…‹νƒ‘)","price":11550}],
             "phonePlans": [{"id":"phone_landline","name":"μΌλ° μ „ν™”","price":1100},{"id":"phone_070_internet_only_no_device_rental","name":"070 μ „ν™” (μΈν„°λ„·+μ „ν™” / λ‹¨λ§κΈ° λ€μ—¬ X)","price":4400,"condition":"μΈν„°λ„·+μ „ν™”, λ‹¨λ§κΈ° λ€μ—¬ X"},{"id":"phone_070_internet_tv_no_device_rental","name":"070 μ „ν™” (μΈν„°λ„·+TV+μ „ν™” / λ‹¨λ§κΈ° λ€μ—¬ X)","price":2200,"condition":"μΈν„°λ„·+TV+μ „ν™”, λ‹¨λ§κΈ° λ€μ—¬ X"}],
             "addOnServices": [{"id":"wifi_router_default","name":"μ™€μ΄νμ΄ κ³µμ κΈ°","price":1100},{"id":"wifi_router_yozoom_100M_tv","name":"μ”μ¦μ°λ¦¬μ§‘κ²°ν•©(μΈ+ν‹° 100Mb) μ‹ κ³µμ κΈ°","price":2200,"condition":"μ”μ¦μ°λ¦¬μ§‘κ²°ν•© μΈ+ν‹° 100Mb"},{"id":"wifi_router_not_selected","name":"κ³µμ κΈ° μ„ νƒ μ•ν•¨(X)","price":0},{"id":"wings_amplifier","name":"WINGS (μ¦ν­κΈ°)","price":1650},{"id":"nugu2_stb","name":"Nugu2 (AI μ…‹ν†±λ°•μ¤)","price":2200,"type":"AI STB"},{"id":"ai_soundbar_max_stb","name":"AI μ‚¬μ΄λ“λ°” λ§¥μ¤","price":6600,"type":"AI STB"},{"id":"apple_tv_stb_promo","name":"μ• ν”μ…‹νƒ‘ (ν”„λ΅λ¨μ… μ§„ν–‰ μ¤‘)","price":0,"type":"STB","note":"ν”„λ΅λ¨μ… ν™•μΈ ν•„μ”"},{"id":"ai4_vision_stb","name":"AI4 Vision","price":4400,"type":"STB"}],
             "bundleInternetDiscounts": [{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"100M + TV","discount_amount":3300},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"100M + TV","discount_amount":3300},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"100M + TV","discount_amount":3300},{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"500M + TV","discount_amount":6600},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"500M + TV","discount_amount":5500},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"500M + TV","discount_amount":6600},{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"1GB + TV","discount_amount":8800},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"1GB + TV","discount_amount":5500},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"1GB + TV","discount_amount":8800},{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"100M (λ‹¨λ…)","discount_amount":4400},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"100M (λ‹¨λ…)","discount_amount":5500},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"100M (λ‹¨λ…)","discount_amount":4400},{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"500M (λ‹¨λ…)","discount_amount":11000},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"500M (λ‹¨λ…)","discount_amount":11000},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"500M (λ‹¨λ…)","discount_amount":11000},{"bundle_name":"μ”μ¦κ°€μ΅±κ²°ν•©","condition":"1GB (λ‹¨λ…)","discount_amount":13200},{"bundle_name":"ν¨λ°€λ¦¬κ²°ν•©","condition":"1GB (λ‹¨λ…)","discount_amount":11000},{"bundle_name":"μ•λ°ν• κ²°ν•©","condition":"1GB (λ‹¨λ…)","discount_amount":13200}],
             "installationFees": {"internet_only_weekday":{"description":"μΈν„°λ„· λ‹¨λ… (ν‰μΌ)","price":36300},"internet_only_weekend":{"description":"μΈν„°λ„· λ‹¨λ… (μ£Όλ§/μ•Όκ°„)","price":45375},"internet_1g_wifi_promo_total_fee_internet_only":{"description":"1Gb μΈν„°λ„· + μ™€μ΄νμ΄ μ„ νƒ μ‹, μΈν„°λ„· λ‹¨λ… μ„¤μΉλΉ„ (ν”„λ΅λ¨μ…)","price":0,"note":"μ΅°κ±΄: 1Gb μΈν„°λ„· + μ™€μ΄νμ΄"},"internet_1g_wifi_promo_total_fee_with_tv_weekday":{"description":"1Gb μΈν„°λ„· + μ™€μ΄νμ΄ + TV μ„ νƒ μ‹, μ΄ μ„¤μΉλΉ„ (ν‰μΌ, ν”„λ΅λ¨μ…)","price":22000,"note":"μ΅°κ±΄: 1Gb μΈν„°λ„· + μ™€μ΄νμ΄ + TV"},"internet_1g_wifi_promo_total_fee_with_tv_weekend":{"description":"1Gb μΈν„°λ„· + μ™€μ΄νμ΄ + TV μ„ νƒ μ‹, μ΄ μ„¤μΉλΉ„ (μ£Όλ§/μ•Όκ°„, ν”„λ΅λ¨μ…)","price":27500,"note":"μ΅°κ±΄: 1Gb μΈν„°λ„· + μ™€μ΄νμ΄ + TV"},"internet_plus_phone_landline_weekday":{"description":"μΈν„°λ„· + μΌλ°μ „ν™” (ν‰μΌ)","price":44000},"internet_plus_phone_landline_weekend":{"description":"μΈν„°λ„· + μΌλ°μ „ν™” (μ£Όλ§/μ•Όκ°„)","price":51700},"internet_plus_phone_070_weekday":{"description":"μΈν„°λ„· + 070μ „ν™” (ν‰μΌ)","price":37400},"internet_plus_phone_070_weekend":{"description":"μΈν„°λ„· + 070μ „ν™” (μ£Όλ§/μ•Όκ°„)","price":45100},"internet_plus_tv_weekday":{"description":"μΈν„°λ„· + TV (ν‰μΌ)","price":56100},"internet_plus_tv_weekend":{"description":"μΈν„°λ„· + TV (μ£Όλ§/μ•Όκ°„)","price":70125},"internet_plus_tv_plus_phone_weekday":{"description":"μΈν„°λ„· + TV + μΌλ°/070μ „ν™” (ν‰μΌ)","price":56100},"internet_plus_tv_plus_phone_weekend":{"description":"μΈν„°λ„· + TV + μΌλ°/070μ „ν™” (μ£Όλ§/μ•Όκ°„)","price":70125},"internet_plus_tv_plus_addTv_weekday":{"description":"μΈν„°λ„· + TV + TVμ¶”κ°€ (ν‰μΌ)","price":73700},"internet_plus_tv_plus_addTv_weekend":{"description":"μΈν„°λ„· + TV + TVμ¶”κ°€ (μ£Όλ§/μ•Όκ°„)","price":92125}}
            };
            SK_DATA = jsonDataFromUser; // Assign directly
            populateSelectOptions();
            setInitialDefaults();
        }
        
        function setInitialDefaults() {
            // Default selections based on SK_DATA if available
            const defaultInternet = (SK_DATA.internetPlans_base || defaultSkData.internetPlans_base).find(p => p.name === "100M μΈν„°λ„· (λ‹¨λ…)") || {name: "none"};
            const defaultTv = (SK_DATA.tvPackages || defaultSkData.tvPackages).find(p => p.id === "tv_economy_smart3") || {id: "none"};
            const defaultStb = "Smart 3"; // This might need to align with STB IDs from addOnServices if they are primary now
            
            internetPlanEl.value = defaultInternet.name;
            tvPlanEl.value = defaultTv.id;
            
            // Manually find and set Smart 3 if it's structured differently now (e.g. in addOnServices)
            // For now, assuming direct value setting works or is handled by populateSelectOptions's default.
            // If "Smart 3" is not an ID in addOnServices for STBs, this needs a specific value or fallback.
            const smart3Option = Array.from(tvStbEl.options).find(opt => opt.text.includes("Smart 3"));
            if (smart3Option) tvStbEl.value = smart3Option.value;
            else if (tvStbEl.options.length > 1) tvStbEl.selectedIndex = 1; // Fallback if Smart 3 not found by name

            additionalTvPlanEl.value = "none";
            phonePlanEl.value = "none";
            
            const event = new Event('change');
            if(tvPlanEl) tvPlanEl.dispatchEvent(event); 

            allDetailSectionsSkt.forEach(section => {
                if (section.containerEl) {
                    const isSelected = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`).checked;
                    let shouldBeVisible = false; 
                    if (isSelected) { 
                        if (section.toggleEl) shouldBeVisible = section.toggleEl.checked;
                    } else { 
                         if (section.toggleEl) section.toggleEl.checked = false;
                    }
                    section.containerEl.classList.toggle('hidden', !shouldBeVisible);
                    if (shouldBeVisible && section.updateFn) section.updateFn();
                }
            });
            onGajokYearsGroupEl.classList.toggle('hidden', document.querySelector('input[name="discountType"]:checked').value !== 'onGajok');
            dongpanUsimPolicyDetailsContainerEl.classList.toggle('hidden', !dongpanSalesCheckEl.checked);
            updateMobileLinesInputs();
        }
        
        window.onload = parseAndLoadSkData; // Load data then set defaults

    </script>
</body>
</html>