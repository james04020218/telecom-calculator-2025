<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LG U+ (ì†Œí˜¸) ê²°í•© í• ì¸ ê³„ì‚°ê¸°</title>
    <link rel="stylesheet" href="/src/index.css">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; /* slate-50 */ }
        .input-group { margin-bottom: 1.5rem; }
        .input-label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #334155; /* slate-700 */ }
        .input-field, .select-field { width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #cbd5e1; /* slate-300 */ border-radius: 0.375rem; box-shadow: sm; transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; }
        .input-field:focus, .select-field:focus { border-color: #8b5cf6; /* violet-500 */ outline: none; box-shadow: 0 0 0 0.2rem rgba(139, 92, 246, 0.25); }
        .input-field:disabled, .select-field:disabled { background-color: #e2e8f0; /* slate-200 */ cursor: not-allowed; opacity: 0.7; }
        .btn-primary { background-color: #8b5cf6; /* violet-500 */ color: white; padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-weight: 600; transition: background-color 0.3s ease; }
        .btn-primary:hover { background-color: #7c3aed; /* violet-600 */ }
        .btn-secondary { background-color: #64748b; /* slate-500 */ color: white; padding: 0.5rem 1rem; border-radius: 0.375rem; font-weight: 500; transition: background-color 0.3s ease; }
        .btn-secondary:hover { background-color: #475569; /* slate-600 */ }
        .section-title { font-size: 1.5rem; font-weight: 700; color: #7e22ce; /* purple-700 */ margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #a78bfa /* violet-400 */;}
        .result-card { background-color: white; padding: 1.5rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); margin-bottom: 1.5rem; }
        .result-label { color: #475569; /* slate-600 */ }
        .result-value { color: #1e293b; /* slate-800 */ font-weight: 600;}
        .total-value { color: #9333ea; /* purple-600 */ font-size: 1.5rem; font-weight: 700;}
        .mobile-line-item { border: 1px solid #e2e8f0; /* slate-200 */ padding: 1rem; border-radius: 0.375rem; margin-bottom: 0.75rem; }
        .radio-label { margin-right: 1rem; margin-bottom: 0.5rem; display: inline-flex; align-items: center; cursor: pointer;}
        .radio-input { margin-right: 0.5rem; accent-color: #8b5cf6; /* violet-500 */ }
        .toggle-switch { position: relative; display: inline-block; width: 40px; height: 20px; margin-left: 10px; vertical-align: middle;}
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px;}
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%;}
        input:checked + .slider { background-color: #8b5cf6; /* violet-500 */ }
        input:checked + .slider:before { transform: translateX(20px); }
        .discount-details { background-color: #ede9fe; /* violet-100 */ border: 1px solid #c4b5fd; /* violet-300 */ padding: 0.75rem; border-radius: 0.375rem; font-size:0.875rem; }
        .discount-details ul { padding-left: 1.25rem; list-style-type: disc; margin-left: 0.5rem;}
        .discount-details ul ul { padding-left: 1rem; list-style-type: circle; }
        .discount-details table { width: 100%; margin-bottom: 0.5rem; }
        .discount-details th, .discount-details td { padding: 0.25rem 0.5rem; text-align: left; border: 1px solid #ddd6fe; /* violet-200 */ }
        .discount-details th { background-color: #f5f3ff; /* violet-50 */ }
        .summary-item { margin-bottom: 0.25rem; }
        .message-script-area { width: 100%; min-height: 100px; padding: 0.5rem; border: 1px solid #cbd5e1; border-radius: 0.375rem; font-size: 0.875rem; white-space: pre-wrap; word-wrap: break-word; }
        .copy-button-container { text-align: right; margin-top: 0.5rem; }
        .copy-feedback { font-size: 0.75rem; color: green; margin-left: 0.5rem; }
    </style>
</head>
<body class="text-slate-800">
    <header class="bg-violet-700 text-white p-6 shadow-md">
        <div class="container mx-auto max-w-4xl">
            <h1 class="text-3xl font-bold text-center">LG U+ (ì†Œí˜¸) ê²°í•© í• ì¸ ê³„ì‚°ê¸°</h1>
            <p class="text-center text-violet-200 mt-1">ì„ íƒí•˜ì‹  ì„œë¹„ìŠ¤ì™€ í• ì¸ ìœ í˜•ì— ë”°ë¥¸ ì˜ˆìƒ ìš”ê¸ˆì„ ê³„ì‚°í•´ ë³´ì„¸ìš”.</p>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl p-4 sm:p-6 lg:p-8">
        <section id="inputSection" class="mb-8">
            <h2 class="section-title">1. ì„œë¹„ìŠ¤ ì„ íƒ (3ë…„ ì•½ì • ê¸°ì¤€, VAT í¬í•¨)</h2>
            <p class="mb-6 text-sm text-slate-600">ì•„ë˜ í•­ëª©ë“¤ì„ ì„ íƒí•˜ê±°ë‚˜ ì…ë ¥í•´ì£¼ì„¸ìš”. ëª¨ë“  ìš”ê¸ˆì€ LG U+ (ì†Œí˜¸) í‘œì¤€ 3ë…„ ì•½ì •, ë¶€ê°€ì„¸ í¬í•¨ ì •ê°€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
            
            <div class="input-group">
                <label class="input-label">ì¸í„°ë„· ìœ í˜• ì„ íƒ</label>
                <div class="flex items-center space-x-4">
                    <label class="radio-label"><input type="radio" name="internetType" value="bundle" class="radio-input" checked> ì¸í„°ë„· + TV ë²ˆë“¤</label>
                    <label class="radio-label"><input type="radio" name="internetType" value="standalone" class="radio-input"> ì¸í„°ë„· ë‹¨ë…</label>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="input-group">
                    <label for="internetPlan" class="input-label">ì¸í„°ë„· ìš”ê¸ˆì œ</label>
                    <select id="internetPlan" class="select-field">
                        <option value="none">ì„ íƒ ì•ˆí•¨</option>
                        {/* Options will be populated by JavaScript */}
                    </select>
                    <p class="text-xs text-slate-500 mt-1" id="internetNotes">ì°¸ê³ : WiFi ê³µìœ ê¸° í¬í•¨.</p>
                </div>
                
                <div class="input-group">
                    <label for="tvPlan" class="input-label">U+tv ìš”ê¸ˆì œ (1ë²ˆì§¸ TV)</label>
                    <select id="tvPlan" class="select-field">
                        <option value="none">ì„ íƒ ì•ˆí•¨</option>
                        {/* Options will be populated by JavaScript */}
                    </select>
                     <p class="text-xs text-slate-500 mt-1">ì°¸ê³ : ìœ„ ìš”ê¸ˆì€ ì…‹í†±ë°•ìŠ¤ í¬í•¨, ì¸í„°ë„· ê²°í•© ì‹œ 3ë…„ ì•½ì • ê¸°ì¤€ì…ë‹ˆë‹¤.</p>
                </div>

                <div class="input-group">
                    <label for="additionalTvPlan" class="input-label">ì¶”ê°€ U+tv ì„ íƒ (2ë²ˆì§¸ TV)</label>
                    <select id="additionalTvPlan" class="select-field">
                        <option value="none">ì„ íƒ ì•ˆí•¨</option>
                        {/* Options will be populated by JavaScript */}
                    </select>
                     <p class="text-xs text-slate-500 mt-1">ì°¸ê³ : ì¶”ê°€ TV ìš”ê¸ˆì€ í”Œëœê³¼ ì…‹í†±ë°•ìŠ¤ ì„ëŒ€ë£Œê°€ í¬í•¨ëœ ì´ ê¸ˆì•¡ì…ë‹ˆë‹¤.</p>
                </div>
                
                <div class="input-group">
                    <label for="phonePlan" class="input-label">ì¼ë°˜ ì „í™” ìš”ê¸ˆì œ (ì„ íƒ)</label>
                    <select id="phonePlan" class="select-field">
                        <option value="none" selected>ì„ íƒ ì•ˆí•¨</option>
                        {/* Options will be populated by JavaScript */}
                    </select>
                    <p class="text-xs text-slate-500 mt-1" id="phoneNotes"></p>
                </div>
            </div>

            <div class="input-group mt-6">
                <label class="input-label">ëª¨ë°”ì¼ íšŒì„  ì •ë³´ (ê²°í•© í• ì¸ì— ì˜í–¥)</label>
                <div class="flex items-center mb-2">
                    <label for="mobileLinesCount" class="mr-2 text-sm text-slate-700">ê²°í•©í•  ëª¨ë°”ì¼ íšŒì„  ìˆ˜:</label>
                    <input type="number" id="mobileLinesCount" min="0" max="10" value="0" class="input-field w-20 text-center">
                </div>
                <div id="mobileLinesContainer" class="space-y-3"></div>
                 <p class="text-xs text-slate-500 mt-1">ì°¸ê³ : 'ì°¸ì‰¬ìš´ ê°€ì¡±ê²°í•©'ì€ ìµœëŒ€ 10íšŒì„ , 'íˆ¬ê²Œë” ê²°í•©'ì€ ìµœëŒ€ 5íšŒì„ ê¹Œì§€ íœ´ëŒ€í° ê²°í•© ê°€ëŠ¥.</p>
            </div>
        </section>

        <section id="discountTypeSection" class="mb-8">
            <h2 class="section-title">2. ê²°í•© í• ì¸ ìœ í˜• ì„ íƒ</h2>
            <div class="bg-white p-6 rounded-lg shadow">
                <p class="mb-4 text-sm text-slate-600">ê°€ì¥ ìœ ë¦¬í•œ í• ì¸ ìœ í˜•ì„ ì„ íƒí•˜ê±°ë‚˜, ê° ìœ í˜•ë³„ ì˜ˆìƒ ìš”ê¸ˆì„ ë¹„êµí•´ë³´ì„¸ìš”. (ì¸í„°ë„· ìš”ê¸ˆ í• ì¸ ê¸°ì¤€)</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-2">
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="none" class="radio-input" checked> ê²°í•©í• ì¸ ì—†ìŒ</label>
                        </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="cham_family" class="radio-input"> ì°¸ì‰¬ìš´ ê°€ì¡±ê²°í•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="chamFamilyDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(ìƒì„¸ë³´ê¸°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="together_bundle" class="radio-input"> íˆ¬ê²Œë” ê²°í•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="togetherDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(ìƒì„¸ë³´ê¸°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="internet_family_all_together" class="radio-input"> ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="internetFamilyDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(ìƒì„¸ë³´ê¸°)</span>
                    </div>
                    <div class="flex items-center">
                        <label class="radio-label"><input type="radio" name="discountType" value="mvno_bundle" class="radio-input"> ì•Œëœ°í° ê²°í•©</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="mvnoLGUDetailsToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="ml-1 text-xs text-slate-500">(ìƒì„¸ë³´ê¸°)</span>
                    </div>
                </div>

                <div id="chamFamilyDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ì°¸ì‰¬ìš´ ê°€ì¡±ê²°í•© ìƒì„¸:</p>
                    <p>ì˜ˆìƒ ì¸í„°ë„· í• ì¸ (íœ´ëŒ€í° 1ëŒ€ ì´ìƒ ê²°í•© ì‹œ): <span id="detailCfInternetDiscount" class="font-bold">0</span>ì›</p>
                    <p class="text-xs text-violet-700">ì‹¤ì œ íœ´ëŒ€í° í• ì¸ì€ ê° íœ´ëŒ€í° ìš”ê¸ˆì œ ë° ê²°í•© ëŒ€ìˆ˜ì— ë”°ë¼ ë³„ë„ ì ìš©ë©ë‹ˆë‹¤ (ìµœëŒ€ 10íšŒì„ ).</p>
                    <hr class="my-2 border-violet-300">
                    <p class="text-xs mt-2 mb-1 text-violet-700 font-semibold">ì£¼ìš” ì°¸ê³ ì‚¬í•­:</p>
                    <ul class="list-disc text-xs space-y-0.5">
                        <li>ì¡°ê±´ ì—†ì´ ê°€ì¡±ì´ ëª¨ì´ë©´ í• ì¸ì„ ë°›ëŠ” ê²°í•© ìƒí’ˆ.</li>
                        <li>ìµœëŒ€ ì¸í„°ë„· 3íšŒì„  + íœ´ëŒ€í° 10íšŒì„  ê²°í•© ê°€ëŠ¥.</li>
                        <li>íœ´ëŒ€í° í• ì¸ì€ 2ëŒ€ë¶€í„° ì ìš©. (ìš”ê¸ˆì œ êµ¬ê°„ë³„ í• ì¸ì•¡ ìƒì´)</li>
                        <li>ì¸í„°ë„· í• ì¸ì€ íœ´ëŒ€í° 1ëŒ€ ì´ìƒ ê²°í•© ì‹œ ì ìš©.</li>
                        <li>ì¸í„°ë„·ê³¼ íœ´ëŒ€í° ëª…ì˜ì ë‹¬ë¼ë„ ê²°í•© ê°€ëŠ¥ (ê°€ì¡±ê´€ê³„ ì¦ë¹™ í•„ìš”).</li>
                        <li>ì•Œëœ°í° ê²°í•© ì‹œ, ê²°í•© ë‚´ ì•Œëœ°í° íœ´ëŒ€í° ë²ˆí˜¸ ê°œìˆ˜ X U+ íœ´ëŒ€í°ì— ì¶”ê°€ í• ì¸ ì œê³µ ê°€ëŠ¥.</li>
                    </ul>
                </div>
                <div id="togetherDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">íˆ¬ê²Œë” ê²°í•© ìƒì„¸:</p>
                    <p>ì˜ˆìƒ ì¸í„°ë„· í• ì¸: <span id="detailTgInternetDiscount" class="font-bold">0</span>ì›</p>
                    <p class="text-xs text-violet-700">íœ´ëŒ€í° í• ì¸ì€ ê²°í•© íšŒì„  ìˆ˜ì— ë”°ë¼ ê° íœ´ëŒ€í°ì— ì ìš©.</p>
                    <hr class="my-2 border-violet-300">
                    <p class="text-xs mt-2 mb-1 text-violet-700 font-semibold">ì£¼ìš” ì°¸ê³ ì‚¬í•­:</p>
                    <ul class="list-disc text-xs space-y-0.5">
                        <li>ì¡°ê±´: ì¸í„°ë„· 500M ì´ìƒ & íŠ¹ì • U+ íœ´ëŒ€í° ìš”ê¸ˆì œ ì´ìš© ì‹œ.</li>
                        <li>ëŒ€ìƒ: ê°€ì¡±, ì¹œêµ¬, ì§€ì¸ ëª¨ë‘ ê²°í•© ê°€ëŠ¥.</li>
                        <li>ì¸í„°ë„· í• ì¸: 11,000ì› (100M ì¸í„°ë„· ê²°í•© ë¶ˆê°€).</li>
                        <li>ê²°í•© í•œë„: ìµœëŒ€ ì¸í„°ë„· 5íšŒì„ , íœ´ëŒ€í° 5íšŒì„ .</li>
                    </ul>
                </div>
                <div id="internetFamilyDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•© ìƒì„¸:</p>
                    <p>ì˜ˆìƒ ì¶”ê°€ ì¸í„°ë„· í• ì¸ (ìíšŒì„ ): <span id="detailIfInternetDiscount" class="font-bold">0</span>ì›</p>
                    <hr class="my-2 border-violet-300">
                    <p class="text-xs mt-2 mb-1 text-violet-700 font-semibold">ì£¼ìš” ì°¸ê³ ì‚¬í•­:</p>
                    <ul class="list-disc text-xs space-y-0.5">
                        <li>ì¡°ê±´: ê¸°ì¡´ U+ ì¸í„°ë„·(ëª¨íšŒì„ ) ì‚¬ìš© ê°€ì¡±ì´ ì‹ ê·œ ì¥ì†Œì— ì¶”ê°€ ì¸í„°ë„·(ìíšŒì„ ) ì„¤ì¹˜ ì‹œ.</li>
                        <li>í• ì¸ì•¡ (ìíšŒì„  ì¸í„°ë„·): 5,500ì›.</li>
                        <li>íƒ€ ê²°í•©ê³¼ ì¤‘ë³µ ë¶ˆê°€.</li>
                    </ul>
                </div>
                <div id="mvnoLGUDetailsContainer" class="mt-3 hidden discount-details">
                    <p class="font-semibold mb-1">ì•Œëœ°í° ê²°í•© ìƒì„¸:</p>
                    <p>ì˜ˆìƒ ì¸í„°ë„· í• ì¸: <span id="detailMvnoLGUInternetDiscount" class="font-bold">0</span>ì›</p>
                    <hr class="my-2 border-violet-300">
                    <p class="text-xs mt-2 mb-1 text-violet-700 font-semibold">ì£¼ìš” ì°¸ê³ ì‚¬í•­:</p>
                    <ul class="list-disc text-xs space-y-0.5">
                        <li>ê³„ì•½ëœ ì•Œëœ° í†µì‹ ì‚¬ ë° ìš”ê¸ˆì œë§Œ ê²°í•© ê°€ëŠ¥.</li>
                        <li>ì¸í„°ë„· í• ì¸ í˜œíƒì€ ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©ê³¼ ìœ ì‚¬í•˜ê²Œ ì ìš© (íœ´ëŒ€í° ìš”ê¸ˆ ìì²´ í• ì¸ ì—†ìŒ).</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="installationSection" class="mb-8">
            <h2 class="section-title">3. ì„¤ì¹˜ ì˜µì…˜</h2>
            <div class="input-group bg-white p-6 rounded-lg shadow">
                <label class="input-label">ì„¤ì¹˜ í¬ë§ ì‹œì  (ì„¤ì¹˜ë¹„ ë³€ë™)</label>
                <div class="space-y-2">
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekday" class="radio-input" checked> í‰ì¼ ì£¼ê°„</label>
                    <label class="radio-label"><input type="radio" name="installationTime" value="weekend" class="radio-input"> ì£¼ë§/ì•¼ê°„ (í• ì¦ ì ìš©)</label>
                </div>
            </div>
        </section>

        <div class="text-center mb-8">
            <button id="calculateButton" class="btn-primary text-lg">ì˜ˆìƒ ìš”ê¸ˆ ê³„ì‚°í•˜ê¸°</button>
        </div>

        <section id="resultSection" class="hidden">
            <h2 class="section-title">ğŸ“Š ê³„ì‚° ê²°ê³¼</h2>
            
            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">ìš”ê¸ˆ ìš”ì•½ (VAT í¬í•¨)</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <p class="result-label summary-item">ì„ íƒ ì¸í„°ë„·: <span id="selectedInternet" class="result-value"></span></p>
                        <p class="result-label summary-item">ì„ íƒ U+tv (1ë²ˆì§¸): <span id="selectedTv" class="result-value"></span></p>
                        <p class="result-label summary-item">ì„ íƒ ì¶”ê°€ U+tv (2ë²ˆì§¸): <span id="selectedAdditionalTv" class="result-value"></span></p>
                        <p class="result-label summary-item">ì„ íƒ ì¼ë°˜ì „í™”: <span id="selectedPhone" class="result-value"></span></p>
                        <p class="result-label summary-item">ëª¨ë°”ì¼ íšŒì„  ìˆ˜: <span id="selectedMobileCount" class="result-value"></span></p>
                        <p class="result-label summary-item">ì ìš© í• ì¸ ìœ í˜•: <span id="selectedDiscountType" class="result-value"></span></p>
                    </div>
                    <div>
                        <p class="result-label summary-item">ì›” ì¸í„°ë„· ê¸°ë³¸ë£Œ (ìœ í˜• ë°˜ì˜): <span id="totalBaseInternetCost" class="result-value">0</span> ì›</p>
                        <p class="result-label text-green-600 summary-item">ì›” ì´ ì¸í„°ë„· ê²°í•© í• ì¸ì•¡: <span id="totalInternetDiscountAmount" class="result-value text-green-600">0</span> ì›</p>
                        
                        <div id="tvCostSummaryContainer" class="hidden"> 
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">ì›” U+tv ìš”ê¸ˆ (1ë²ˆì§¸): <span id="tvBaseCostDisplay" class="result-value">0</span> ì›</p>
                        </div>
                         <div id="additionalTvCostSummaryContainer" class="hidden">
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">ì›” ì¶”ê°€ U+tv ìš”ê¸ˆ (2ë²ˆì§¸): <span id="additionalTvCostDisplay" class="result-value">0</span> ì›</p>
                        </div>
                        <div id="phoneCostSummaryContainer" class="hidden">
                            <hr class="my-1 border-slate-200">
                            <p class="result-label summary-item">ì›” ì¼ë°˜ì „í™” ê¸°ë³¸ë£Œ: <span id="phoneBaseCostDisplay" class="result-value">0</span> ì›</p>
                        </div>
                        <hr class="my-1 border-violet-300">
                        <p class="mt-2 text-lg font-semibold">ìµœì¢… ì˜ˆìƒ ì›” ë‚©ë¶€ì•¡: <span id="finalMonthlyCost" class="total-value">0</span> ì›</p>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">ğŸ ì‚¬ì€í’ˆ í˜œíƒ (ì˜ˆìƒ í˜„ê¸ˆ)</h3>
                <p class="result-label summary-item">í˜„ê¸ˆ ì‚¬ì€í’ˆ: <span id="giftCash" class="result-value">0</span> ì›</p>
                 <p class="text-xs text-violet-500 mt-1">* ì‚¬ì€í’ˆ ì •ë³´ëŠ” ë³€ë™ë  ìˆ˜ ìˆìœ¼ë‹ˆ ê°€ì… ì‹œì ì— ë°˜ë“œì‹œ ì¬í™•ì¸ ë°”ëë‹ˆë‹¤.</p>
            </div>

            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">ì´ˆê¸° ì„¤ì¹˜ ë¹„ìš© (ì„ íƒí•œ ëª¨ë“  ìœ ì„  ì„œë¹„ìŠ¤ ê¸°ì¤€)</h3>
                <p class="result-label">ì˜ˆìƒ ì´ ì„¤ì¹˜ë¹„: <span id="installationCostResult" class="result-value text-lg">0</span> ì›</p>
                <p class="text-xs text-slate-500 mt-1">* ì„ íƒí•˜ì‹  ì„¤ì¹˜ ì‹œì (í‰ì¼/ì£¼ë§) ë° ì„œë¹„ìŠ¤ ì¡°í•©ì— ë”°ë¼ ê³„ì‚°ë©ë‹ˆë‹¤. í”„ë¡œëª¨ì…˜ìœ¼ë¡œ ë©´ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            
             <div class="result-card mt-6">
                <h3 class="text-xl font-semibold text-violet-600 mb-2">ì¶”ê°€ ì•ˆë‚´ì‚¬í•­</h3>
                <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                    <li>ë³¸ ê³„ì‚°ê¸°ëŠ” ì œê³µëœ LG U+ (ì†Œí˜¸) ìƒí’ˆ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì¶”ì •ì¹˜ì…ë‹ˆë‹¤.</li>
                    <li>ì‹¤ì œ ìš”ê¸ˆì€ LG U+ì˜ ìµœì‹  ì •ì±…, ê°€ì… ì‹œì ì˜ í”„ë¡œëª¨ì…˜, ì¶”ê°€ ì„ íƒ ì‚¬í•­ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    <li>ì•½ì • ê¸°ê°„ ë‚´ í•´ì§€ ì‹œ ìœ„ì•½ê¸ˆ(í• ì¸ë°˜í™˜ê¸ˆ ë° ì¥ë¹„ë³€ìƒê¸ˆ)ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    <li>ë” ì •í™•í•œ ì •ë³´ëŠ” LG U+ ê³ ê°ì„¼í„°ë¥¼ í†µí•´ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</li>
                </ul>
            </div>
        </section>
        
        <section id="messageScriptSection" class="hidden mt-12">
            <h2 class="section-title">ğŸ“„ ê³ ê° ì•ˆë‚´ ë¬¸ì ìŠ¤í¬ë¦½íŠ¸ (ìƒë‹´ì› ì°¸ê³ ìš©)</h2>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">1. ì „ì‚° ë©”ëª¨</h3>
                <textarea id="memoScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('memoScript', 'copyFeedbackMemo')" class="btn-secondary text-xs">ë³µì‚¬í•˜ê¸°</button>
                    <span id="copyFeedbackMemo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">2. ìƒí’ˆ ì•ˆë‚´ ë¬¸ì</h3>
                <textarea id="infoScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('infoScript', 'copyFeedbackInfo')" class="btn-secondary text-xs">ë³µì‚¬í•˜ê¸°</button>
                    <span id="copyFeedbackInfo" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">3. ê°€ì… ì™„ë£Œ ë¬¸ì</h3>
                <textarea id="completeScript" class="message-script-area" readonly></textarea>
                 <div class="copy-button-container">
                    <button onclick="copyToClipboard('completeScript', 'copyFeedbackComplete')" class="btn-secondary text-xs">ë³µì‚¬í•˜ê¸°</button>
                    <span id="copyFeedbackComplete" class="copy-feedback"></span>
                </div>
            </div>
            <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">4. ë¯¼ê°ì •ë³´ ì „ì†¡ìš© ë§í¬ (ê³ ê° ë°œì†¡ìš©)</h3>
                <textarea id="sensitiveInfoLinkScript" class="message-script-area" readonly></textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('sensitiveInfoLinkScript', 'copyFeedbackSensitiveLink')" class="btn-secondary text-xs">ë³µì‚¬í•˜ê¸°</button>
                    <span id="copyFeedbackSensitiveLink" class="copy-feedback"></span>
                </div>
            </div>
             <div class="result-card">
                <h3 class="text-xl font-semibold text-violet-600 mb-3">5. U+ì•Œëœ°ëª¨ë°”ì¼ ì¸í„°ë„· ê²°í•© ìš”ê¸ˆì œ ì•ˆë‚´ (ê³ ê° ë°œì†¡ìš©)</h3>
                <textarea id="mvnoInfoLinkScript" class="message-script-area" readonly>U+ì•Œëœ°ëª¨ë°”ì¼ ì¸í„°ë„· ê²°í•© ìš”ê¸ˆì œ ì •ë³´: https://www.uplusmvno.com/plan/plan-list</textarea>
                <div class="copy-button-container">
                    <button onclick="copyToClipboard('mvnoInfoLinkScript', 'copyFeedbackMvnoLink')" class="btn-secondary text-xs">ë³µì‚¬í•˜ê¸°</button>
                    <span id="copyFeedbackMvnoLink" class="copy-feedback"></span>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center p-6 mt-12 bg-violet-800 text-violet-200 text-sm">
        <p>ë³¸ ê³„ì‚°ê¸°ëŠ” LG U+ (ì†Œí˜¸) íŒë§¤ì  ë¯¸ì†Œì— ì œê³µí•©ë‹ˆë‹¤.</p>
        <p>&copy; 2024 LG U+ (ì†Œí˜¸) ê²°í•© í• ì¸ ê³„ì‚°ê¸°. ëª¨ë“  ì •ë³´ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.</p>
    </footer>

    <script>
        const lguSOHOData = {
            "ì¸í„°ë„·(ë‹¨ë…)": [
                { "name": "100mb", "price": 22000, "type": "100M", "speed_mbps": 100 },
                { "name": "500mb", "price": 33000, "type": "500M", "speed_mbps": 500 },
                { "name": "1GB", "price": 38500, "type": "1G", "speed_mbps": 1000 }
            ],
            "ì¸í„°ë„·": [ // TV ë²ˆë“¤ ì‹œ ì¸í„°ë„· ê¸°ë³¸ê°€
                { "name": "100mb", "price": 22000, "type": "100M", "speed_mbps": 100 },
                { "name": "500mb", "price": 27500, "type": "500M", "speed_mbps": 500 },
                { "name": "1GB", "price": 33000, "type": "1G", "speed_mbps": 1000 }
            ],
            "TV": [
                { "key": "basic_uhd4", "name": "ë² ì´ì§ (211ì±„ë„) + UHD4", "price": 16500, "channels_info": "211ì±„ë„" },
                { "key": "premium_uhd4", "name": "í”„ë¦¬ë¯¸ì—„ (254ì±„ë„)", "price": 20900, "channels_info": "254ì±„ë„" },
                { "key": "premium_lite_uhd4", "name": "í”„ë¦¬ë¯¸ì—„ ë¼ì´íŠ¸ (259ì±„ë„)", "price": 23100, "channels_info": "259ì±„ë„" },
                { "key": "premium_disney_uhd4", "name": "í”„ë¦¬ë¯¸ì—„ ë””ì¦ˆë‹ˆ", "price": 29000 },
                { "key": "premium_netflix_hd_uhd4", "name": "í”„ë¦¬ë¯¸ì—„ ë„·í”Œë¦­ìŠ¤ HD", "price": 32200 },
                { "key": "premium_netflix_uhd_uhd4", "name": "í”„ë¦¬ë¯¸ì—„ ë„·í”Œë¦­ìŠ¤ UHD", "price": 35700 }
            ],
            "ê³µìœ ê¸°": [ { "name": "ê³µìœ ê¸°", "price": 0 } ],
            "TV ì¶”ê°€": [
                { "key": "basic_add", "name": "ë² ì´ì§ (211ì±„ë„) + UHD4", "price": 11550, "channels_info": "211ì±„ë„" },
                { "key": "basic_adv_100m_add", "name": "ë² ì´ì§(ê³ ê¸‰í˜•) / 100mbí•  ê²½ìš°", "price": 10450 },
                { "key": "premium_add", "name": "í”„ë¦¬ë¯¸ì—„(UHD4)", "price": 13750 }
            ],
            "ê²°í•©í• ì¸": [ 
                { "name": "100mb + TV/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 5500, "type": "cham_family", "speed": "100M", "bundle": "with_tv" },
                { "name": "100mb + TV/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "100M", "bundle": "with_tv" },
                { "name": "500mb + TV/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 9900, "type": "cham_family", "speed": "500M", "bundle": "with_tv" },
                { "name": "500mb + TV/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "500M", "bundle": "with_tv" },
                { "name": "500mb + TV/íˆ¬ê²Œë”ê²°í•©", "discount": 11000, "type": "together_bundle", "speed": "500M", "bundle": "with_tv" },
                { "name": "1GB + TV/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 13200, "type": "cham_family", "speed": "1G", "bundle": "with_tv" },
                { "name": "1GB + TV/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "1G", "bundle": "with_tv" },
                { "name": "1GB + TV/íˆ¬ê²Œë”ê²°í•©", "discount": 11000, "type": "together_bundle", "speed": "1G", "bundle": "with_tv" },
                { "name": "(ë‹¨ë…) 100mb/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 5500, "type": "cham_family", "speed": "100M", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 100mb/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "100M", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 500mb/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 9900, "type": "cham_family", "speed": "500M", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 500mb/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "500M", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 500mb/íˆ¬ê²Œë”ê²°í•©", "discount": 11000, "type": "together_bundle", "speed": "500M", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 1GB/ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©", "discount": 13200, "type": "cham_family", "speed": "1G", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 1GB/ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©", "discount": 5500, "type": "internet_family_all_together", "speed": "1G", "bundle": "standalone_internet" },
                { "name": "(ë‹¨ë…) 1GB/íˆ¬ê²Œë”ê²°í•©", "discount": 11000, "type": "together_bundle", "speed": "1G", "bundle": "standalone_internet" }
            ],
            "ì„¤ì¹˜ë¹„": [ 
                { "name": "ì¸í„°ë„· ì„¤ì¹˜ë¹„", "price_weekday": 36300, "price_weekend": 45375, "key": "internet_only"},
                { "name": "ì¸í„°ë„· + ì¼ë°˜ì „í™” ì„¤ì¹˜ë¹„", "price_weekday": 36300, "price_weekend": 45375, "key": "internet_with_landline_phone" },
                { "name": "ì¸í„°ë„· + ì¸í„°ë„·ì „í™” ì„¤ì¹˜ë¹„", "price_weekday": 36300, "price_weekend": 45375, "key": "internet_with_voip" },
                { "name": "ì¸í„°ë„· + TV ì„¤ì¹˜ë¹„", "price_weekday": 47300, "price_weekend": 55825, "key": "internet_with_tv" },
                { "name": "ì¸í„°ë„· + TV + ì¼ë°˜/070ì „í™” ì„¤ì¹˜ë¹„", "price_weekday": 47300, "price_weekend": 55825, "key": "internet_with_tv_and_phone" },
                { "name": "ì¸í„°ë„· + TV + TVì¶”ê°€ ì„¤ì¹˜ë¹„", "price_weekday": 60500, "price_weekend": 69025, "key": "internet_with_tv_and_additional_tv" }
            ],
            "ì¼ë°˜ ì „í™”": [
                { "key": "phone_basic_new", "name": "ì¼ë°˜ì „í™”(ì§€ì—­ë²ˆí˜¸)- CPG(ê¸°ì¡´ ì†Œìœ  ì „í™” ë‹¨ë§ê¸° ì‚¬ìš© ì‹œ) / ì‹ ê·œê°€ì… ì‹œ, ê°€ì…ë¹„ 33,000ì› í¬í•¨", "price": 35200, "note": "<< ì…‹íƒ‘ 100% í• ì¸ ì ìš© 25/02/07~ ì¢…ë£Œ ì‹œì  ë³„ë„ ê³µì§€" },
                { "key": "phone_basic_existing_cpg", "name": "ì¼ë°˜ ì „í™” (ì§€ì—­ë²ˆí˜¸) - CPG(ê¸°ì¡´ ì†Œìœ  ì „í™” ë‹¨ë§ê¸° ì‚¬ìš© ì‹œ)", "price": 2200 },
                { "key": "voip_existing_cpg", "name": "ì¸í„°ë„· ì „í™” (070) - CPG(ê¸°ì¡´ ì†Œìœ  ì „í™” ë‹¨ë§ê¸° ì‚¬ìš© ì‹œ)", "price": 2200 },
                { "key": "voip_100m_rental", "name": "100mb/ì¸í„°ë„· ì „í™” (070) - (IP450S ë‹¨ë§ê¸° ëŒ€ì—¬ í¬í•¨)", "price": 3911, "note": "<< ì…‹íƒ‘ 100% í• ì¸ ì ìš© 25/02/07~ ì¢…ë£Œ ì‹œì  ë³„ë„ ê³µì§€ / ì •ìƒ ì„ëŒ€ë£Œ 2200ì›" },
                { "key": "voip_500m_plus_rental", "name": "500mbì´ìƒ/ì¸í„°ë„· ì „í™” (070) - ê³ ê¸‰í˜•ì„¼íŠ¸ë¦­ìŠ¤", "price": 4705, "note": "<< ì…‹íƒ‘ 100% í• ì¸ ì ìš© 25/02/07~ ì¢…ë£Œ ì‹œì  ë³„ë„ ê³µì§€" },
                { "key": "phone_fax_note", "name": "íŒ©ìŠ¤ì™€ ì „í™” í•¨ê»˜ ì„¤ì¹˜ì‹œì—ëŠ” ì „í™”! ë…¸ì…˜ì„ ì°¸ê³ í•´ì£¼ì„¸ìš”!!!", "price": 0, "note": "<< ì…‹íƒ‘ 100% í• ì¸ ì ìš© 25/02/07~ ì¢…ë£Œ ì‹œì  ë³„ë„ ê³µì§€" }
            ],
             "ë¶€ê°€ì„œë¹„ìŠ¤": [ 
                { "name": "CCTV 1ëŒ€", "price": 13200 },
                { "name": "CCTV 2ëŒ€", "price": 26400 },
                { "name": "CCTV 3ëŒ€", "price": 39600 }
            ]
        };
        
        const giftTableLGU = { 
            "100Më‹¨ë…": { cash: 200000 }, 
            "500Më‹¨ë…": { cash: 230000 },
            "1Gë‹¨ë…":   { cash: 230000 },
            "100Më²ˆë“¤": { cash: 400000 }, 
            "500Më²ˆë“¤": { cash: 470000 }, 
            "1Gë²ˆë“¤":   { cash: 470000 }  
        };
        
        const mvnoBundleConfigFallback = { 
             internetDiscount: { 
                "100M": 5500,
                "500M": 9900,
                "1G": 13200
            }
        };

        const internetTypeRadios = document.querySelectorAll('input[name="internetType"]');
        const internetPlanEl = document.getElementById('internetPlan');
        const tvPlanEl = document.getElementById('tvPlan');
        const additionalTvPlanEl = document.getElementById('additionalTvPlan');
        const phonePlanEl = document.getElementById('phonePlan');
        const mobileLinesCountEl = document.getElementById('mobileLinesCount');
        const mobileLinesContainerEl = document.getElementById('mobileLinesContainer');
        const discountTypeRadios = document.querySelectorAll('input[name="discountType"]');
        
        const chamFamilyDetailsToggleEl = document.getElementById('chamFamilyDetailsToggle');
        const chamFamilyDetailsContainerEl = document.getElementById('chamFamilyDetailsContainer');
        const detailCfInternetDiscountEl = document.getElementById('detailCfInternetDiscount');

        const togetherDetailsToggleEl = document.getElementById('togetherDetailsToggle');
        const togetherDetailsContainerEl = document.getElementById('togetherDetailsContainer');
        const detailTgInternetDiscountEl = document.getElementById('detailTgInternetDiscount');

        const internetFamilyDetailsToggleEl = document.getElementById('internetFamilyDetailsToggle');
        const internetFamilyDetailsContainerEl = document.getElementById('internetFamilyDetailsContainer');
        const detailIfInternetDiscountEl = document.getElementById('detailIfInternetDiscount');

        const mvnoLGUDetailsToggleEl = document.getElementById('mvnoLGUDetailsToggle');
        const mvnoLGUDetailsContainerEl = document.getElementById('mvnoLGUDetailsContainer');
        const detailMvnoLGUInternetDiscountEl = document.getElementById('detailMvnoLGUInternetDiscount');

        const calculateButton = document.getElementById('calculateButton');
        const resultSection = document.getElementById('resultSection');
        
        const selectedInternetEl = document.getElementById('selectedInternet');
        const selectedTvEl = document.getElementById('selectedTv');
        const selectedAdditionalTvEl = document.getElementById('selectedAdditionalTv');
        const selectedPhoneEl = document.getElementById('selectedPhone');
        const selectedMobileCountEl = document.getElementById('selectedMobileCount');
        const selectedDiscountTypeEl = document.getElementById('selectedDiscountType');
        
        const totalBaseInternetCostEl = document.getElementById('totalBaseInternetCost');
        const totalInternetDiscountAmountEl = document.getElementById('totalInternetDiscountAmount');
        
        const tvCostSummaryContainerEl = document.getElementById('tvCostSummaryContainer');
        const tvBaseCostDisplayEl = document.getElementById('tvBaseCostDisplay');

        const additionalTvCostSummaryContainerEl = document.getElementById('additionalTvCostSummaryContainer');
        const additionalTvCostDisplayEl = document.getElementById('additionalTvCostDisplay');

        const phoneCostSummaryContainerEl = document.getElementById('phoneCostSummaryContainer');
        const phoneBaseCostDisplayEl = document.getElementById('phoneBaseCostDisplay');
        const phoneNotesEl = document.getElementById('phoneNotes');


        const finalMonthlyCostEl = document.getElementById('finalMonthlyCost');
        const installationCostResultEl = document.getElementById('installationCostResult');
        const giftCashEl = document.getElementById('giftCash');

        const messageScriptSectionEl = document.getElementById('messageScriptSection');
        const memoScriptEl = document.getElementById('memoScript');
        const infoScriptEl = document.getElementById('infoScript');
        const completeScriptEl = document.getElementById('completeScript');
        const sensitiveInfoLinkScriptEl = document.getElementById('sensitiveInfoLinkScript');
        const mvnoInfoLinkScriptEl = document.getElementById('mvnoInfoLinkScript');


        function populateSelectWithOptionsGeneric(selectElement, dataArray, defaultKey = "none", nameKey = "name", priceKey = "price", keyProperty = "key") {
            const currentValue = selectElement.value;
            selectElement.innerHTML = `<option value="none">ì„ íƒ ì•ˆí•¨</option>`;
            dataArray.forEach(item => {
                const option = document.createElement('option');
                const itemKeyValue = item[keyProperty] || item[nameKey].replace(/\s+/g, '_').toLowerCase(); 
                option.value = itemKeyValue;

                let textContent = `${item[nameKey]}`;
                if (item[priceKey] !== undefined && item[priceKey] !== null && item[priceKey] !== 0) {
                     textContent += ` (ì›” ${item[priceKey].toLocaleString()}ì›)`;
                }
                if ((selectElement.id === 'tvPlan' || selectElement.id === 'additionalTvPlan') && item.channels_info) {
                    if (item[priceKey] !== undefined && item[priceKey] !== null && item[priceKey] !== 0){
                        textContent = `${item[nameKey]} (ì›” ${item[priceKey].toLocaleString()}ì›)`;
                    } else {
                        textContent = `${item[nameKey]}`;
                    }
                }
                option.textContent = textContent;

                if (item[priceKey] !== undefined) option.dataset.price = item[priceKey];
                if (item.speed_mbps) option.dataset.speed = item.speed_mbps;
                if (item.type) option.dataset.type = item.type;
                if (item.channels_info) option.dataset.channels = item.channels_info;
                if (item.category) option.dataset.category = item.category;
                if (item.note) option.dataset.note = item.note;
                selectElement.appendChild(option);
            });

            if (selectElement.querySelector(`option[value="${currentValue}"]`)) {
                selectElement.value = currentValue;
            } else if (defaultKey !== "none" && selectElement.querySelector(`option[value="${defaultKey}"]`)) {
                selectElement.value = defaultKey;
            } else if (defaultKey === "none" && selectElement.options.length > 0) {
                selectElement.value = "none";
            }
        }
        
        function populateInternetPlansSOHO(isBundle) {
            const currentInternetPlanKey = internetPlanEl.value;
            internetPlanEl.innerHTML = `<option value="none">ì„ íƒ ì•ˆí•¨</option>`;
            const plansSource = isBundle ? lguSOHOData["ì¸í„°ë„·"] : lguSOHOData["ì¸í„°ë„·(ë‹¨ë…)"];
            const notesEl = document.getElementById('internetNotes');

            plansSource.forEach(item => {
                const option = document.createElement('option');
                option.value = item.type; 
                option.textContent = `${item.name} (ì›” ${item.price.toLocaleString()}ì›)`;
                option.dataset.price = item.price;
                option.dataset.speed = item.speed_mbps;
                option.dataset.type = item.type;
                internetPlanEl.appendChild(option);
            });

            if (internetPlanEl.querySelector(`option[value="${currentInternetPlanKey}"]`)) {
                internetPlanEl.value = currentInternetPlanKey;
            } else {
                internetPlanEl.value = "500M"; 
            }
             if (notesEl) {
                notesEl.textContent = isBundle ? "ì°¸ê³ : WiFi ê³µìœ ê¸° í¬í•¨. TV ê²°í•© ì‹œ ê¸°ë³¸ í• ì¸ëœ ìš”ê¸ˆì…ë‹ˆë‹¤." : "ì°¸ê³ : WiFi ê³µìœ ê¸° í¬í•¨.";
            }
        }

        function handleInternetTypeChange() {
            const selectedType = document.querySelector('input[name="internetType"]:checked').value;
            const isBundle = selectedType === 'bundle';

            populateInternetPlansSOHO(isBundle);

            tvPlanEl.disabled = !isBundle;
            additionalTvPlanEl.disabled = !isBundle;
            phonePlanEl.disabled = !isBundle; 

            if (!isBundle) {
                tvPlanEl.value = 'none';
                additionalTvPlanEl.value = 'none';
                phonePlanEl.value = 'none'; 
            } else {
                if (tvPlanEl.value === 'none' && lguSOHOData.TV.find(p => p.key === "basic_uhd4")) {
                     tvPlanEl.value = 'basic_uhd4';
                }
            }
            handleTvPlanChange(); 
            handlePhonePlanChange(); 
        }
        
        function handleTvPlanChange() {
            const isFirstTvSelected = tvPlanEl.value !== 'none';
            const isBundleType = document.querySelector('input[name="internetType"]:checked').value === 'bundle';
            
            additionalTvPlanEl.disabled = !isFirstTvSelected || !isBundleType;
            if (!isFirstTvSelected || !isBundleType) {
                additionalTvPlanEl.value = 'none';
            }
        }
         function handlePhonePlanChange() {
            const selectedPhoneKey = phonePlanEl.value;
            const phoneNote = lguSOHOData["ì¼ë°˜ ì „í™”"].find(p => p.key === selectedPhoneKey)?.note || "";
            phoneNotesEl.textContent = phoneNote ? `ì°¸ê³ : ${phoneNote}` : "";
        }


        function updateMobileLineControls() {
            const selectedDiscount = document.querySelector('input[name="discountType"]:checked').value;
            let mobileCount = 0; 
            let isMobileDisabled = true;

            switch (selectedDiscount) {
                case 'none':
                    mobileCount = 0;
                    isMobileDisabled = true;
                    break;
                case 'cham_family':
                    mobileCount = 1; 
                    isMobileDisabled = false;
                    break;
                case 'together_bundle':
                    mobileCount = 1; 
                    isMobileDisabled = false;
                    break;
                case 'internet_family_all_together':
                    mobileCount = 0;
                    isMobileDisabled = true;
                    break;
                case 'mvno_bundle':
                    mobileCount = 1; 
                    isMobileDisabled = false;
                    break;
                default: 
                    mobileCount = 0;
                    isMobileDisabled = true;
            }
            mobileLinesCountEl.value = mobileCount;
            mobileLinesCountEl.disabled = isMobileDisabled;
            updateMobileLinesInputsLGU(); 
        }


        function initializeCalculator() {
            internetTypeRadios.forEach(radio => radio.addEventListener('change', handleInternetTypeChange));
            
            populateSelectWithOptionsGeneric(tvPlanEl, lguSOHOData.TV, "basic_uhd4", "name", "price", "key");
            populateSelectWithOptionsGeneric(additionalTvPlanEl, lguSOHOData["TV ì¶”ê°€"], "none", "name", "price", "key");
            populateSelectWithOptionsGeneric(phonePlanEl, lguSOHOData["ì¼ë°˜ ì „í™”"], "none", "name", "price", "key");

            tvPlanEl.addEventListener('change', handleTvPlanChange); 
            phonePlanEl.addEventListener('change', handlePhonePlanChange);
            
            handleInternetTypeChange(); 
            updateMobileLineControls(); 
            handlePhonePlanChange(); 

            allDetailSectionsLGU.forEach(section => {
                if (section.containerEl) {
                    const isSelectedRadio = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`);
                    const isSelected = isSelectedRadio ? isSelectedRadio.checked : false;
                    let shouldBeVisible = isSelected && section.toggleEl && section.toggleEl.checked;
                     if (section.radioValue === "none" && isSelected) { 
                        shouldBeVisible = false;
                    }
                    section.containerEl.classList.toggle('hidden', !shouldBeVisible);
                    if (shouldBeVisible && section.updateFn) { 
                        section.updateFn();
                    }
                }
            });
        }

        mobileLinesCountEl.addEventListener('input', updateMobileLinesInputsLGU);
        calculateButton.addEventListener('click', calculateAndDisplayResultsLGU);
        
        const allDetailSectionsLGU = [
            { radioValue: 'cham_family', toggleEl: chamFamilyDetailsToggleEl, containerEl: chamFamilyDetailsContainerEl, updateFn: updateChamFamilyDetails },
            { radioValue: 'together_bundle', toggleEl: togetherDetailsToggleEl, containerEl: togetherDetailsContainerEl, updateFn: updateTogetherDetails },
            { radioValue: 'internet_family_all_together', toggleEl: internetFamilyDetailsToggleEl, containerEl: internetFamilyDetailsContainerEl, updateFn: updateInternetFamilyDetails },
            { radioValue: 'mvno_bundle', toggleEl: mvnoLGUDetailsToggleEl, containerEl: mvnoLGUDetailsContainerEl, updateFn: updateMvnoLGUDetails }
        ];

        discountTypeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                updateMobileLineControls(); 
                allDetailSectionsLGU.forEach(section => {
                    if (section.containerEl) {
                        let isVisible = false;
                        if (this.value === section.radioValue) { 
                            if (section.toggleEl) { 
                                isVisible = section.toggleEl.checked; 
                                if (isVisible && section.updateFn) {
                                    section.updateFn();
                                }
                            }
                        } else { 
                            if(section.toggleEl) section.toggleEl.checked = false; 
                            isVisible = false; 
                        }
                        section.containerEl.classList.toggle('hidden', !isVisible);
                    }
                });
            });
        });
        
        allDetailSectionsLGU.forEach(section => {
            if (section.toggleEl) {
                section.toggleEl.addEventListener('change', function() {
                    const selectedRadio = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`);
                    const isSelectedRadioChecked = selectedRadio ? selectedRadio.checked : false;

                    if (isSelectedRadioChecked) { 
                        section.containerEl.classList.toggle('hidden', !this.checked);
                        if (this.checked && section.updateFn) {
                            section.updateFn();
                        }
                    }
                });
            }
        });

        function updateMobileLinesInputsLGU() {
            const count = parseInt(mobileLinesCountEl.value) || 0;
            mobileLinesContainerEl.innerHTML = '';
            for (let i = 0; i < count; i++) {
                const div = document.createElement('div');
                div.className = 'mobile-line-item grid grid-cols-1 md:grid-cols-2 gap-4 items-center';
                div.innerHTML = `
                    <div>
                        <label for="mobileCost${i}" class="block text-sm font-medium text-slate-600">íšŒì„  ${i + 1} ì›”ì •ì•¡ (VATí¬í•¨, í• ì¸ ì „)</label>
                        <input type="number" id="mobileCost${i}" class="input-field mt-1" placeholder="ì˜ˆ: 85000" value="0">
                    </div>
                    <div>
                        <label class="flex items-center mt-1 md:mt-5">
                            <input type="checkbox" id="mobileHighTier${i}" class="radio-input h-4 w-4">
                            <span class="ml-2 text-sm text-slate-600">ì›” 8.5ë§Œì› ì´ìƒ (íˆ¬ê²Œë” ê²°í•©ìš©)</span>
                        </label>
                    </div>
                `;
                mobileLinesContainerEl.appendChild(div);
            }
        }
        
        function getInternetPlanInfoSOHO(internetKey, isBundleInternetType) {
            if (!internetKey || internetKey === "none") return { name: "ë¯¸ì„ íƒ", price: 0, speed_mbps: 0, type: "none" };
            const dataSource = isBundleInternetType ? lguSOHOData["ì¸í„°ë„·"] : lguSOHOData["ì¸í„°ë„·(ë‹¨ë…)"];
            const plan = dataSource.find(p => p.type === internetKey);
            return plan ? { ...plan } : { name: "ì˜¤ë¥˜", price: 0, speed_mbps: 0, type: "none" };
        }
        
        function getDiscountFromSOHOBundle(internetTypeKey, discountTypeKeyFromJson, isBundleInternetType, numMobileLines) {
            if (discountTypeKeyFromJson === "none") return 0;

            const tvPresenceString = isBundleInternetType ? "+ TV" : "(ë‹¨ë…)";
            let discountNameFragment = "";
            if (discountTypeKeyFromJson === "cham_family") discountNameFragment = "ì°¸ì‰¬ìš´ê°€ì¡±ê²°í•©";
            else if (discountTypeKeyFromJson === "together_bundle") discountNameFragment = "íˆ¬ê²Œë”ê²°í•©";
            else if (discountTypeKeyFromJson === "internet_family_all_together") discountNameFragment = "ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©";

            let searchableSpeedString = "";
            if (internetTypeKey === "100M") searchableSpeedString = "100mb";
            else if (internetTypeKey === "500M") searchableSpeedString = "500mb";
            else if (internetTypeKey === "1G") searchableSpeedString = "1gb"; // JSON uses "1GB" but search string uses "1gb" for consistency

            const matchedDiscount = lguSOHOData["ê²°í•©í• ì¸"].find(d => {
                const lowerCaseName = d.name.toLowerCase();
                // Ensure internetTypeKey (from dropdown e.g., "1G") matches speed in discount name (e.g., "1gb" or "1GB")
                const speedMatch = lowerCaseName.includes(searchableSpeedString);
                return speedMatch &&
                       d.name.includes(tvPresenceString) && 
                       d.name.includes(discountNameFragment); 
            });

            if (matchedDiscount) {
                if (discountTypeKeyFromJson === "together_bundle") {
                    const internetDetails = getInternetPlanInfoSOHO(internetTypeKey, isBundleInternetType);
                    const internetSpeedMbps = internetDetails.speed_mbps || 0;
                    let highTierMobileCount = 0;
                    for (let i = 0; i < numMobileLines; i++) {
                        const mobileCostEl = document.getElementById(`mobileCost${i}`);
                        const isHighTierEl = document.getElementById(`mobileHighTier${i}`);
                        if (mobileCostEl && isHighTierEl) {
                            const mobileCost = parseInt(mobileCostEl.value) || 0;
                            const isHighTier = isHighTierEl.checked;
                            if (isHighTier && mobileCost >= 85000) highTierMobileCount++;
                        }
                    }
                    if (internetSpeedMbps >= 500 && highTierMobileCount > 0) {
                        return matchedDiscount.discount;
                    }
                    return 0;
                } else if (discountTypeKeyFromJson === "cham_family") {
                     if (numMobileLines > 0){ return matchedDiscount.discount; }
                     return 0; 
                }
                return matchedDiscount.discount;
            }
            return 0; 
        }

        function updateChamFamilyDetails() {
            const internetKey = internetPlanEl.value; 
            let internetDiscount = 0;
            const isBundle = document.querySelector('input[name="internetType"]:checked').value === 'bundle';
            if (internetKey !== 'none' && (parseInt(mobileLinesCountEl.value) || 0) > 0) {
                internetDiscount = getDiscountFromSOHOBundle(internetKey, "cham_family", isBundle, parseInt(mobileLinesCountEl.value) || 0);
            }
            detailCfInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updateTogetherDetails() {
            const internetKey = internetPlanEl.value;
            let internetDiscount = 0;
            const isBundle = document.querySelector('input[name="internetType"]:checked').value === 'bundle';
            if (internetKey !== 'none') {
                 internetDiscount = getDiscountFromSOHOBundle(internetKey, "together_bundle", isBundle, parseInt(mobileLinesCountEl.value) || 0);
            }
            detailTgInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updateInternetFamilyDetails() {
            const internetKey = internetPlanEl.value;
            let internetDiscount = 0;
            const isBundle = document.querySelector('input[name="internetType"]:checked').value === 'bundle';
            if (internetKey !== 'none') {
                 internetDiscount = getDiscountFromSOHOBundle(internetKey, "internet_family_all_together", isBundle, parseInt(mobileLinesCountEl.value) || 0);
            }
            detailIfInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }

        function updateMvnoLGUDetails() { 
            const internetKey = internetPlanEl.value;
            let internetDiscount = 0;
            const isBundle = document.querySelector('input[name="internetType"]:checked').value === 'bundle';
            if (internetKey !== 'none' && (parseInt(mobileLinesCountEl.value) || 0) > 0) {
                internetDiscount = getDiscountFromSOHOBundle(internetKey, "cham_family", isBundle, parseInt(mobileLinesCountEl.value) || 0);
            }
            detailMvnoLGUInternetDiscountEl.textContent = internetDiscount.toLocaleString();
        }


        function calculateAndDisplayResultsLGU() {
            const selectedInternetTypeValue = document.querySelector('input[name="internetType"]:checked').value;
            const isBundleInternetType = selectedInternetTypeValue === 'bundle';

            const internetKey = internetPlanEl.value; 
            const tvKey = isBundleInternetType ? tvPlanEl.value : 'none'; 
            const additionalTvKey = isBundleInternetType ? additionalTvPlanEl.value : 'none';
            const phoneKey = isBundleInternetType ? phonePlanEl.value : 'none';
            const numMobileLines = parseInt(mobileLinesCountEl.value) || 0;
            const selectedDiscountRadioValue = document.querySelector('input[name="discountType"]:checked').value; 
            const installationTime = document.querySelector('input[name="installationTime"]:checked').value;
            
            let currentInternetDetails = getInternetPlanInfoSOHO(internetKey, isBundleInternetType);
            let internetBasePrice = currentInternetDetails.price || 0; 
            let selectedTypeInternetDiscount = 0; 
            
            if (internetKey !== 'none' && selectedDiscountRadioValue !== "none") {
                 if (selectedDiscountRadioValue === "mvno_bundle") { 
                     if (numMobileLines > 0) { 
                        selectedTypeInternetDiscount = getDiscountFromSOHOBundle(internetKey, "cham_family", isBundleInternetType, numMobileLines);
                    }
                } else {
                    selectedTypeInternetDiscount = getDiscountFromSOHOBundle(internetKey, selectedDiscountRadioValue, isBundleInternetType, numMobileLines);
                }
            }
            
            allDetailSectionsLGU.forEach(section => {
                const radioForSection = document.querySelector(`input[name="discountType"][value="${section.radioValue}"]`);
                if (radioForSection && radioForSection.checked && section.toggleEl && section.toggleEl.checked && section.updateFn) {
                    section.updateFn(); 
                }
            });
            
            let totalActualInternetDiscount = selectedTypeInternetDiscount;
            totalActualInternetDiscount = Math.min(totalActualInternetDiscount, internetBasePrice); 
            
            const finalInternetComponentCost = internetBasePrice - totalActualInternetDiscount;
            
            let tvBase = 0;
            if (isBundleInternetType && tvKey !== 'none' && lguSOHOData.TV.find(p=>p.key === tvKey)) {
                tvBase = lguSOHOData.TV.find(p=>p.key === tvKey).price;
            }
            const finalTvComponentCost = tvBase;
            
            let finalAdditionalTvCost = 0;
            if (isBundleInternetType && additionalTvKey !== 'none' && lguSOHOData["TV ì¶”ê°€"].find(p=>p.key === additionalTvKey)) {
                 finalAdditionalTvCost = lguSOHOData["TV ì¶”ê°€"].find(p=>p.key === additionalTvKey).price;
            }

            let phoneBase = 0;
            if (isBundleInternetType && phoneKey !== 'none' && lguSOHOData["ì¼ë°˜ ì „í™”"].find(p=>p.key === phoneKey)) {
                phoneBase = lguSOHOData["ì¼ë°˜ ì „í™”"].find(p=>p.key === phoneKey).price;
            }
            const finalPhoneComponentCost = phoneBase;
            
            const finalMonthlyDisplayCost = finalInternetComponentCost + finalTvComponentCost + finalAdditionalTvCost + finalPhoneComponentCost;
            const totalPreDiscountMonthlyFee = internetBasePrice + finalTvComponentCost + finalAdditionalTvCost + finalPhoneComponentCost;


            totalBaseInternetCostEl.textContent = internetBasePrice.toLocaleString();
            totalInternetDiscountAmountEl.textContent = totalActualInternetDiscount.toLocaleString();

            if (isBundleInternetType && tvKey !== 'none') {
                tvCostSummaryContainerEl.classList.remove('hidden');
                tvBaseCostDisplayEl.textContent = tvBase.toLocaleString();
            } else {
                tvCostSummaryContainerEl.classList.add('hidden');
            }
            
            if (isBundleInternetType && additionalTvKey !== 'none') {
                additionalTvCostSummaryContainerEl.classList.remove('hidden');
                additionalTvCostDisplayEl.textContent = finalAdditionalTvCost.toLocaleString();
            } else {
                additionalTvCostSummaryContainerEl.classList.add('hidden');
            }

            if (isBundleInternetType && phoneKey !== 'none') {
                phoneCostSummaryContainerEl.classList.remove('hidden');
                phoneBaseCostDisplayEl.textContent = phoneBase.toLocaleString();
            } else {
                phoneCostSummaryContainerEl.classList.add('hidden');
            }
            
            finalMonthlyCostEl.textContent = finalMonthlyDisplayCost.toLocaleString();

            let calculatedInstallationFee = 0;
            const installKeyToLookup = determineSOHOInstallationKey(internetKey !== 'none', isBundleInternetType && tvKey !== 'none', isBundleInternetType && phoneKey !== 'none', isBundleInternetType && additionalTvKey !== 'none');
            
            const feeEntry = lguSOHOData["ì„¤ì¹˜ë¹„"].find(fee => fee.key === installKeyToLookup);


            if(feeEntry){
                calculatedInstallationFee = installationTime === 'weekend' ? feeEntry.price_weekend : feeEntry.price_weekday;
            }
            
            selectedInternetEl.textContent = currentInternetDetails.name;
            const tvPlanObj = isBundleInternetType && tvKey !== 'none' ? lguSOHOData.TV.find(p=>p.key === tvKey) : null;
            selectedTvEl.textContent = tvPlanObj ? tvPlanObj.name : 'ë¯¸ì„ íƒ';
            
            const addTvPlanObj = isBundleInternetType && additionalTvKey !== 'none' ? lguSOHOData["TV ì¶”ê°€"].find(p=>p.key === additionalTvKey) : null;
            selectedAdditionalTvEl.textContent = addTvPlanObj ? addTvPlanObj.name : 'ë¯¸ì„ íƒ';

            const phonePlanObj = isBundleInternetType && phoneKey !== 'none' ? lguSOHOData["ì¼ë°˜ ì „í™”"].find(p=>p.key === phoneKey) : null;
            selectedPhoneEl.textContent = phonePlanObj ? phonePlanObj.name : 'ë¯¸ì„ íƒ';
            
            selectedMobileCountEl.textContent = numMobileLines;
            
            const discountTypeDisplayMap = {
                none: "ê²°í•©í• ì¸ ì—†ìŒ",
                cham_family: "ì°¸ì‰¬ìš´ ê°€ì¡±ê²°í•©",
                together_bundle: "íˆ¬ê²Œë” ê²°í•©",
                internet_family_all_together: "ì¸í„°ë„· ê°€ì¡±ë¼ë¦¬ ë‹¤ëª¨ì—¬ ê²°í•©",
                mvno_bundle: "ì•Œëœ°í° ê²°í•©"
            };
            selectedDiscountTypeEl.textContent = discountTypeDisplayMap[selectedDiscountRadioValue] || selectedDiscountRadioValue;
            installationCostResultEl.textContent = Math.round(calculatedInstallationFee).toLocaleString();

            let giftCashAmount = 0;
            if (internetKey !== 'none') {
                const internetTypeForGift = currentInternetDetails.type; 
                const giftKeyForCalc = internetTypeForGift + (isBundleInternetType && tvKey !== 'none' ? "ë²ˆë“¤" : "ë‹¨ë…");
                if (giftTableLGU[giftKeyForCalc]) { // Using the old giftTableLGU as requested
                    giftCashAmount = giftTableLGU[giftKeyForCalc].cash;
                }
            }
            giftCashEl.textContent = giftCashAmount.toLocaleString();
            
            resultSection.classList.remove('hidden');
            messageScriptSectionEl.classList.remove('hidden');
            generateMessageScriptsLGU(totalPreDiscountMonthlyFee, selectedDiscountRadioValue === "none"); 
        }

        function generateMessageScriptsLGU(preDiscountFee, noBundleSelected) { 
            const selectedInternetTypeValue = document.querySelector('input[name="internetType"]:checked').value;
            const isBundleInternetType = selectedInternetTypeValue === 'bundle';

            const internetKey = internetPlanEl.value;
            const tvKey = isBundleInternetType ? tvPlanEl.value : 'none';
            const additionalTvKey = isBundleInternetType ? additionalTvPlanEl.value : 'none';
            const phoneKey = isBundleInternetType ? phonePlanEl.value : 'none';

            const internetPlanInfo = getInternetPlanInfoSOHO(internetKey, isBundleInternetType);
            const internetPlanText = internetPlanInfo.name !== "ë¯¸ì„ íƒ" ? internetPlanInfo.name : "ì¸í„°ë„· ë¯¸ì„ íƒ";
            
            let firstTvText = "U+tv ë¯¸ì„ íƒ";
            if (isBundleInternetType && tvKey !== 'none' && lguSOHOData.TV.find(p=>p.key === tvKey)) {
                firstTvText = lguSOHOData.TV.find(p=>p.key === tvKey).name;
            }
            
            const additionalTvObj = (isBundleInternetType && additionalTvKey !== 'none' && lguSOHOData["TV ì¶”ê°€"].find(p=>p.key === additionalTvKey));
            const additionalTvName = additionalTvObj ? additionalTvObj.name : "";
            const additionalTvTextForMsg = additionalTvObj ? `\nâ–¶ï¸ (ì¶”ê°€) ${additionalTvName}` : "";

            const phonePlanObj = (isBundleInternetType && phoneKey !== 'none' && lguSOHOData["ì¼ë°˜ ì „í™”"].find(p=>p.key === phoneKey));
            const phonePlanTextForMsg = phonePlanObj ? `\nâ–¶ï¸ ${phonePlanObj.name}` : "";


            const finalCalculatedMonthlyFee = finalMonthlyCostEl.textContent; 
            const giftAmount = giftCashEl.textContent;
            const installFee = installationCostResultEl.textContent;
            const installTime = document.querySelector('input[name="installationTime"]:checked').value;
            
            let installFeeForWeekendMessage = "";
            const currentInstallKeyName = determineSOHOInstallationKey(internetKey !== 'none', isBundleInternetType && tvKey !== 'none', isBundleInternetType && phoneKey !== 'none', isBundleInternetType && additionalTvKey !== 'none');
            const feeEntryForWeekend = lguSOHOData["ì„¤ì¹˜ë¹„"].find(fee => fee.key === currentInstallKeyName);
            if (feeEntryForWeekend && installTime === 'weekend') {
                installFeeForWeekendMessage = (feeEntryForWeekend.price_weekend || feeEntryForWeekend.price_weekday * 1.25).toLocaleString();
            }


            let productDescriptionMemo = internetPlanText;
            if (isBundleInternetType && tvKey !== 'none') productDescriptionMemo += ` + ${firstTvText}`;
            if (isBundleInternetType && additionalTvKey !== 'none') productDescriptionMemo += ` + (ì¶”ê°€)${additionalTvName.split('(')[0].trim()}`;
            if (isBundleInternetType && phoneKey !== 'none' && phonePlanObj) productDescriptionMemo += ` + ${phonePlanObj.name}`;

            memoScriptEl.value = `1. ìƒí’ˆ : ${productDescriptionMemo}
2. ìš”ê¸ˆ : ${preDiscountFee.toLocaleString()}ì› (í• ì¸ ì „) / ${finalCalculatedMonthlyFee}ì› (ìµœì¢… ì˜ˆìƒ)
3. ì‚¬ì€í’ˆ : í˜„ê¸ˆ ${giftAmount}ì›
4. ì„¤ì¹˜ë¹„ : ${installFee}ì›
5. ê¸°íƒ€ : ì´ì‚¬ ì—¬ë¶€ [  ] / í¬ë§ì„¤ì¹˜ì¼ì [    ë…„   ì›”   ì¼]`;
            
            let productDescriptionInfo = `â–¶ï¸ ${internetPlanText}`;
            if (isBundleInternetType && tvKey !== 'none') productDescriptionInfo += `\nâ–¶ï¸ ${firstTvText}`;
            productDescriptionInfo += additionalTvTextForMsg;
            productDescriptionInfo += phonePlanTextForMsg;

            const bundleStatusText = noBundleSelected ? "ê²°í•©(X)" : "ê²°í•©(O)";

            infoScriptEl.value = `[ë¯¸ì†Œ] U+ (ì†Œí˜¸) ìƒí’ˆ & ì‚¬ì€í’ˆ ìš”ì•½ ì•ˆë‚´
ì•ˆë…•í•˜ì„¸ìš”, ë¯¸ì†Œ U+ (ì†Œí˜¸) ì…ë‹ˆë‹¤.
ê³ ê°ë‹˜ê»˜ì„œ ì˜¤ëŠ˜ ìƒë‹´ ë°›ìœ¼ì‹  ìƒí’ˆ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.
${productDescriptionInfo}
â–¶ï¸ ì›” ${finalCalculatedMonthlyFee}ì› (${bundleStatusText}, 3ë…„ ì•½ì •)
â–¶ï¸ í˜„ê¸ˆ ì‚¬ì€í’ˆ ${giftAmount}ì›
* í˜œíƒì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë€” ìˆ˜ ìˆë‹¤ëŠ” ì  ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.
ë¯¸ì†Œ ë“œë¦¼.`;
            
            let productDescriptionComplete = `â–¶ï¸ ${internetPlanText}`;
            if (isBundleInternetType && tvKey !== 'none') productDescriptionComplete += `\nâ–¶ï¸ ${firstTvText}`;
            productDescriptionComplete += additionalTvTextForMsg;
            productDescriptionComplete += phonePlanTextForMsg;

            completeScriptEl.value = `[ë¯¸ì†Œ] U+ (ì†Œí˜¸) ê°€ì… ì™„ë£Œ ì•ˆë‚´
ì•ˆë…•í•˜ì„¸ìš”, ê³ ê°ë‹˜. ë¯¸ì†Œ U+ (ì†Œí˜¸)ì…ë‹ˆë‹¤.
âœ… ê³„ì•½ì´ ì™„ë£Œë˜ì—ˆì–´ìš”, ì•„ë˜ ë‚´ìš©ì€ ê³„ì•½ì„œì™€ ë™ì¼í•œ íš¨ë ¥ì´ ìˆìœ¼ë‹ˆ ê¼¼ê¼¼íˆ ì½ì–´ì£¼ì„¸ìš”.
âš ï¸ 3ë…„ ì•½ì •ì´ë©°, ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì— í•´ë‹¹í•˜ë©´ ë°›ìœ¼ì…¨ë˜ ì‚¬ì€í’ˆì€ í™˜ìˆ˜ ë©ë‹ˆë‹¤.
â‘  1ë…„ ì´ë‚´ í•´ì§€/ì •ì§€/ëª…ì˜ë³€ê²½
â‘¡ ìš”ê¸ˆ ë¯¸ë‚© ë° ì‚¬ìš©ì •ì§€
â‘¢ ìš”ê¸ˆì œ í•˜í–¥ (ìƒí–¥ ì‹œì—ëŠ” í™˜ìˆ˜ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!)
â‘£ ê°œí†µ 1ê°œì›” ì´ë‚´ ê²°ì œìˆ˜ë‹¨ ì§€ë¡œì²­êµ¬ì„œë¡œ ë³€ê²½
âš ï¸ ì‹ ê·œ ê°€ì… í›„ ê¸°ì¡´ì— ì‚¬ìš©í•˜ì‹œë˜ íƒ€ì‚¬ ì¸í„°ë„·/TVëŠ” ê¼­ ì§ì ‘ í•´ì§€ í•´ì£¼ì„¸ìš”. ìë™í•´ì§€ë˜ì§€ ì•Šìœ¼ë©° ì´ëŸ´ ê²½ìš° ìš”ê¸ˆì´ ì´ì¤‘ ë¶€ê³¼ë˜ì–´ìš”.
âš ï¸ 3ë…„ ì´ë‚´ í•´ì§€ ì‹œ í†µì‹ ì‚¬ ë³¸ì‚¬ì— ìœ„ì•½ê¸ˆ (í• ì¸ ë°˜í™˜ê¸ˆ) ë° ë©´ì œëœ ì„¤ì¹˜ë¹„/ì¥ë¹„ì„ëŒ€ë£Œ ë“±ì´ ë°˜í™˜ë  ìˆ˜ ìˆì–´ìš”.
âœ… ê°€ì… ìƒí’ˆ ì•ˆë‚´
${productDescriptionComplete}
â–¶ï¸ ì›” ${finalCalculatedMonthlyFee}ì› (${bundleStatusText}, 3ë…„ ì•½ì •)
â–¶ï¸ ì„¤ì¹˜ë¹„ ${installFee}ì› ì²« ë‹¬ í•©ì‚° ì²­êµ¬ ${installTime === 'weekday' || !installFeeForWeekendMessage || installFeeForWeekendMessage === "0" ? '' : `(ì£¼ë§/ì•¼ê°„ ì„¤ì¹˜ ì‹œ ${installFeeForWeekendMessage}ì›)`}
â–¶ï¸ í˜„ê¸ˆ ì‚¬ì€í’ˆ ${giftAmount}ì›
âœ…ì‚¬ì€í’ˆì€ ì„¤ì¹˜ í›„ 7ì¼ ì´ë‚´ ìë™ìœ¼ë¡œ ì§€ê¸‰ë˜ë‚˜ í‰ì¼ê¸°ì¤€ 5ì‹œ ì´ì „ ê°œí†µ ë°›ì•˜ë‹¤ê³  ë¬¸ì ì£¼ì‹œë©´ ë‹¹ì¼ì…ê¸ˆ ë„ì›€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
${installTime !== 'weekday' && installFeeForWeekendMessage && installFeeForWeekendMessage !== "0" ? `-> ì£¼ë§/ì•¼ê°„ ì„¤ì¹˜ë¹„ëŠ” ${installFeeForWeekendMessage}ì› ì´ì‹­ë‹ˆë‹¤.` : ''}
ë¯¸ì†Œ ë“œë¦¼.`;

            sensitiveInfoLinkScriptEl.value = `[LG U+] ì•„ë˜ë§í¬ì— ê³ ê°ë‹˜ì˜ ë¯¼ê°ì •ë³´ë¥¼ ì…ë ¥í•˜ì‹œë©´ LG U+ë¡œ ê³ ê°ë‹˜ì˜ ë¯¼ê°ì •ë³´ê°€ ì§ì ‘ ì „ì†¡ë©ë‹ˆë‹¤
https://miso.kr/booking/forms/secure-details?querystring=ê³ ê°ë‹˜ ì „í™”ë²ˆí˜¸`;
        }
        
        function determineSOHOInstallationKey(hasInternet, hasFirstTv, hasPhone, hasAdditionalTv) {
            if (hasInternet) {
                if (hasFirstTv && hasAdditionalTv) return "internet_with_tv_and_additional_tv";
                if (hasFirstTv && hasPhone) return "internet_with_tv_and_phone";
                if (hasFirstTv) return "internet_with_tv";
                if (hasPhone) { 
                    return "internet_with_voip"; 
                }
                return "internet_only";
            } else if (hasFirstTv) { 
                if (hasAdditionalTv) return "internet_with_tv_and_additional_tv"; 
                if (hasPhone) return "internet_with_tv_and_phone"; 
                return "internet_with_tv"; 
            } else if (hasPhone) {
                 return "internet_with_voip"; 
            }
            return null; 
        }


        function copyToClipboard(elementId, feedbackElementId) {
            const textarea = document.getElementById(elementId);
            textarea.select();
            textarea.setSelectionRange(0, 99999); 
            try {
                document.execCommand('copy');
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!';
                setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            } catch (err) {
                const feedbackEl = document.getElementById(feedbackElementId);
                feedbackEl.textContent = 'ë³µì‚¬ ì‹¤íŒ¨';
                 setTimeout(() => { feedbackEl.textContent = ''; }, 2000);
            }
            window.getSelection().removeAllRanges(); 
        }
        
        document.addEventListener('DOMContentLoaded', initializeCalculator);

    </script>
</body>
</html>